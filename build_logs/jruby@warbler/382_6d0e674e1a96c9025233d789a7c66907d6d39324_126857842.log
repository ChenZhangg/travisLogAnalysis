Using worker: worker-linux-docker-f0b7d277.prod.travis-ci.org:travis-linux-9

travis_fold:start:system_info[0K[33;1mBuild system information[0m
Build language: ruby
Build group: stable
Build dist: precise
[34m[1mBuild image provisioning date and time[0m
Thu Feb  5 15:09:33 UTC 2015
[34m[1mOperating System Details[0m
Distributor ID:	Ubuntu
Description:	Ubuntu 12.04.5 LTS
Release:	12.04
Codename:	precise
[34m[1mLinux Version[0m
3.13.0-29-generic
[34m[1mCookbooks Version[0m
a68419e https://github.com/travis-ci/travis-cookbooks/tree/a68419e
[34m[1mGCC version[0m
gcc (Ubuntu/Linaro 4.6.3-1ubuntu5) 4.6.3
Copyright (C) 2011 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

[34m[1mLLVM version[0m
clang version 3.4 (tags/RELEASE_34/final)
Target: x86_64-unknown-linux-gnu
Thread model: posix
[34m[1mPre-installed Ruby versions[0m
ruby-1.9.3-p551
[34m[1mPre-installed Node.js versions[0m
v0.10.36
[34m[1mPre-installed Go versions[0m
1.4.1
[34m[1mRedis version[0m
redis-server 2.8.19
[34m[1mriak version[0m
2.0.2
[34m[1mMongoDB version[0m
MongoDB 2.4.12
[34m[1mCouchDB version[0m
couchdb 1.6.1
[34m[1mNeo4j version[0m
1.9.4
[34m[1mRabbitMQ Version[0m
3.4.3
[34m[1mElasticSearch version[0m
1.4.0
[34m[1mInstalled Sphinx versions[0m
2.0.10
2.1.9
2.2.6
[34m[1mDefault Sphinx version[0m
2.2.6
[34m[1mInstalled Firefox version[0m
firefox 31.0esr
[34m[1mPhantomJS version[0m
1.9.8
[34m[1mant -version[0m
Apache Ant(TM) version 1.8.2 compiled on December 3 2011
[34m[1mmvn -version[0m
Apache Maven 3.2.5 (12a6b3acb947671f09b81f49094c53f426d8cea1; 2014-12-14T17:29:23+00:00)
Maven home: /usr/local/maven
Java version: 1.7.0_76, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-7-oracle/jre
Default locale: en_US, platform encoding: ANSI_X3.4-1968
OS name: "linux", version: "3.13.0-29-generic", arch: "amd64", family: "unix"
travis_fold:end:system_info[0K
travis_fold:start:fix.CVE-2015-7547[0K$ export DEBIAN_FRONTEND=noninteractive
W: Size of file /var/lib/apt/lists/us.archive.ubuntu.com_ubuntu_dists_precise-backports_multiverse_source_Sources.gz is not what the server reported 5886 5888
W: Size of file /var/lib/apt/lists/ppa.launchpad.net_ubuntugis_ppa_ubuntu_dists_precise_main_binary-amd64_Packages.gz is not what the server reported 36669 36677
W: Size of file /var/lib/apt/lists/ppa.launchpad.net_ubuntugis_ppa_ubuntu_dists_precise_main_binary-i386_Packages.gz is not what the server reported 36729 36733
Reading package lists...
Building dependency tree...
Reading state information...
The following extra packages will be installed:
  libc-bin libc-dev-bin libc6-dev
Suggested packages:
  glibc-doc
The following packages will be upgraded:
  libc-bin libc-dev-bin libc6 libc6-dev
4 upgraded, 0 newly installed, 0 to remove and 235 not upgraded.
Need to get 8,844 kB of archives.
After this operation, 9,216 B disk space will be freed.
Get:1 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main libc6-dev amd64 2.15-0ubuntu10.13 [2,943 kB]
Get:2 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main libc-dev-bin amd64 2.15-0ubuntu10.13 [84.7 kB]
Get:3 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main libc-bin amd64 2.15-0ubuntu10.13 [1,179 kB]
Get:4 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main libc6 amd64 2.15-0ubuntu10.13 [4,637 kB]
Fetched 8,844 kB in 0s (35.8 MB/s)
Preconfiguring packages ...
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 71420 files and directories currently installed.)
Preparing to replace libc6-dev 2.15-0ubuntu10.10 (using .../libc6-dev_2.15-0ubuntu10.13_amd64.deb) ...
Unpacking replacement libc6-dev ...
Preparing to replace libc-dev-bin 2.15-0ubuntu10.10 (using .../libc-dev-bin_2.15-0ubuntu10.13_amd64.deb) ...
Unpacking replacement libc-dev-bin ...
Preparing to replace libc-bin 2.15-0ubuntu10.10 (using .../libc-bin_2.15-0ubuntu10.13_amd64.deb) ...
Unpacking replacement libc-bin ...
Processing triggers for man-db ...
Setting up libc-bin (2.15-0ubuntu10.13) ...
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 71420 files and directories currently installed.)
Preparing to replace libc6 2.15-0ubuntu10.10 (using .../libc6_2.15-0ubuntu10.13_amd64.deb) ...
Unpacking replacement libc6 ...
Setting up libc6 (2.15-0ubuntu10.13) ...
Setting up libc-dev-bin (2.15-0ubuntu10.13) ...
Setting up libc6-dev (2.15-0ubuntu10.13) ...
Processing triggers for libc-bin ...
ldconfig deferred processing now taking place
travis_fold:end:fix.CVE-2015-7547[0Ktravis_fold:start:git.checkout[0Ktravis_time:start:002eecfd[0K$ git clone --depth=50 --branch=1.x-dev https://github.com/jruby/warbler.git jruby/warbler
Cloning into 'jruby/warbler'...
remote: Counting objects: 566, done.[K
remote: Compressing objects:   0% (1/383)   [Kremote: Compressing objects:   1% (4/383)   [Kremote: Compressing objects:   2% (8/383)   [Kremote: Compressing objects:   3% (12/383)   [Kremote: Compressing objects:   4% (16/383)   [Kremote: Compressing objects:   5% (20/383)   [Kremote: Compressing objects:   6% (23/383)   [Kremote: Compressing objects:   7% (27/383)   [Kremote: Compressing objects:   8% (31/383)   [Kremote: Compressing objects:   9% (35/383)   [Kremote: Compressing objects:  10% (39/383)   [Kremote: Compressing objects:  11% (43/383)   [Kremote: Compressing objects:  12% (46/383)   [Kremote: Compressing objects:  13% (50/383)   [Kremote: Compressing objects:  14% (54/383)   [Kremote: Compressing objects:  15% (58/383)   [Kremote: Compressing objects:  16% (62/383)   [Kremote: Compressing objects:  17% (66/383)   [Kremote: Compressing objects:  18% (69/383)   [Kremote: Compressing objects:  19% (73/383)   [Kremote: Compressing objects:  20% (77/383)   [Kremote: Compressing objects:  21% (81/383)   [Kremote: Compressing objects:  22% (85/383)   [Kremote: Compressing objects:  23% (89/383)   [Kremote: Compressing objects:  24% (92/383)   [Kremote: Compressing objects:  25% (96/383)   [Kremote: Compressing objects:  26% (100/383)   [Kremote: Compressing objects:  27% (104/383)   [Kremote: Compressing objects:  28% (108/383)   [Kremote: Compressing objects:  29% (112/383)   [Kremote: Compressing objects:  30% (115/383)   [Kremote: Compressing objects:  31% (119/383)   [Kremote: Compressing objects:  32% (123/383)   [Kremote: Compressing objects:  33% (127/383)   [Kremote: Compressing objects:  34% (131/383)   [Kremote: Compressing objects:  35% (135/383)   [Kremote: Compressing objects:  36% (138/383)   [Kremote: Compressing objects:  37% (142/383)   [Kremote: Compressing objects:  38% (146/383)   [Kremote: Compressing objects:  39% (150/383)   [Kremote: Compressing objects:  40% (154/383)   [Kremote: Compressing objects:  41% (158/383)   [Kremote: Compressing objects:  42% (161/383)   [Kremote: Compressing objects:  43% (165/383)   [Kremote: Compressing objects:  44% (169/383)   [Kremote: Compressing objects:  45% (173/383)   [Kremote: Compressing objects:  46% (177/383)   [Kremote: Compressing objects:  47% (181/383)   [Kremote: Compressing objects:  48% (184/383)   [Kremote: Compressing objects:  49% (188/383)   [Kremote: Compressing objects:  50% (192/383)   [Kremote: Compressing objects:  51% (196/383)   [Kremote: Compressing objects:  52% (200/383)   [Kremote: Compressing objects:  53% (203/383)   [Kremote: Compressing objects:  54% (207/383)   [Kremote: Compressing objects:  55% (211/383)   [Kremote: Compressing objects:  56% (215/383)   [Kremote: Compressing objects:  57% (219/383)   [Kremote: Compressing objects:  58% (223/383)   [Kremote: Compressing objects:  59% (226/383)   [Kremote: Compressing objects:  60% (230/383)   [Kremote: Compressing objects:  61% (234/383)   [Kremote: Compressing objects:  62% (238/383)   [Kremote: Compressing objects:  63% (242/383)   [Kremote: Compressing objects:  64% (246/383)   [Kremote: Compressing objects:  65% (249/383)   [Kremote: Compressing objects:  66% (253/383)   [Kremote: Compressing objects:  67% (257/383)   [Kremote: Compressing objects:  68% (261/383)   [Kremote: Compressing objects:  69% (265/383)   [Kremote: Compressing objects:  70% (269/383)   [Kremote: Compressing objects:  71% (272/383)   [Kremote: Compressing objects:  72% (276/383)   [Kremote: Compressing objects:  73% (280/383)   [Kremote: Compressing objects:  74% (284/383)   [Kremote: Compressing objects:  75% (288/383)   [Kremote: Compressing objects:  76% (292/383)   [Kremote: Compressing objects:  77% (295/383)   [Kremote: Compressing objects:  78% (299/383)   [Kremote: Compressing objects:  79% (303/383)   [Kremote: Compressing objects:  80% (307/383)   [Kremote: Compressing objects:  81% (311/383)   [Kremote: Compressing objects:  82% (315/383)   [Kremote: Compressing objects:  83% (318/383)   [Kremote: Compressing objects:  84% (322/383)   [Kremote: Compressing objects:  85% (326/383)   [Kremote: Compressing objects:  86% (330/383)   [Kremote: Compressing objects:  87% (334/383)   [Kremote: Compressing objects:  88% (338/383)   [Kremote: Compressing objects:  89% (341/383)   [Kremote: Compressing objects:  90% (345/383)   [Kremote: Compressing objects:  91% (349/383)   [Kremote: Compressing objects:  92% (353/383)   [Kremote: Compressing objects:  93% (357/383)   [Kremote: Compressing objects:  94% (361/383)   [Kremote: Compressing objects:  95% (364/383)   [Kremote: Compressing objects:  96% (368/383)   [Kremote: Compressing objects:  97% (372/383)   [Kremote: Compressing objects:  98% (376/383)   [Kremote: Compressing objects:  99% (380/383)   [Kremote: Compressing objects: 100% (383/383)   [Kremote: Compressing objects: 100% (383/383), done.[K
Receiving objects:   0% (1/566)   Receiving objects:   1% (6/566)   Receiving objects:   2% (12/566)   Receiving objects:   3% (17/566)   Receiving objects:   4% (23/566)   Receiving objects:   5% (29/566)   Receiving objects:   6% (34/566)   Receiving objects:   7% (40/566)   Receiving objects:   8% (46/566)   Receiving objects:   9% (51/566)   Receiving objects:  10% (57/566)   Receiving objects:  11% (63/566)   Receiving objects:  12% (68/566)   Receiving objects:  13% (74/566)   Receiving objects:  14% (80/566)   Receiving objects:  15% (85/566)   Receiving objects:  16% (91/566)   Receiving objects:  17% (97/566)   Receiving objects:  18% (102/566)   Receiving objects:  19% (108/566)   Receiving objects:  20% (114/566)   Receiving objects:  21% (119/566)   Receiving objects:  22% (125/566)   Receiving objects:  23% (131/566)   Receiving objects:  24% (136/566)   Receiving objects:  25% (142/566)   Receiving objects:  26% (148/566)   Receiving objects:  27% (153/566)   Receiving objects:  28% (159/566)   Receiving objects:  29% (165/566)   Receiving objects:  30% (170/566)   Receiving objects:  31% (176/566)   Receiving objects:  32% (182/566)   Receiving objects:  33% (187/566)   Receiving objects:  34% (193/566)   Receiving objects:  35% (199/566)   Receiving objects:  36% (204/566)   Receiving objects:  37% (210/566)   Receiving objects:  38% (216/566)   Receiving objects:  39% (221/566)   Receiving objects:  40% (227/566)   Receiving objects:  41% (233/566)   Receiving objects:  42% (238/566)   Receiving objects:  43% (244/566)   Receiving objects:  44% (250/566)   Receiving objects:  45% (255/566)   Receiving objects:  46% (261/566)   Receiving objects:  47% (267/566)   Receiving objects:  48% (272/566)   Receiving objects:  49% (278/566)   Receiving objects:  50% (283/566)   Receiving objects:  51% (289/566)   Receiving objects:  52% (295/566)   Receiving objects:  53% (300/566)   Receiving objects:  54% (306/566)   Receiving objects:  55% (312/566)   Receiving objects:  56% (317/566)   Receiving objects:  57% (323/566)   Receiving objects:  58% (329/566)   Receiving objects:  59% (334/566)   Receiving objects:  60% (340/566)   Receiving objects:  61% (346/566)   Receiving objects:  62% (351/566)   Receiving objects:  63% (357/566)   Receiving objects:  64% (363/566)   Receiving objects:  65% (368/566)   Receiving objects:  66% (374/566)   Receiving objects:  67% (380/566)   Receiving objects:  68% (385/566)   Receiving objects:  69% (391/566)   Receiving objects:  70% (397/566)   Receiving objects:  71% (402/566)   Receiving objects:  72% (408/566)   Receiving objects:  73% (414/566)   Receiving objects:  74% (419/566)   Receiving objects:  75% (425/566)   Receiving objects:  76% (431/566)   Receiving objects:  77% (436/566)   Receiving objects:  78% (442/566)   Receiving objects:  79% (448/566)   Receiving objects:  80% (453/566)   Receiving objects:  81% (459/566)   Receiving objects:  82% (465/566)   Receiving objects:  83% (470/566)   Receiving objects:  84% (476/566)   Receiving objects:  85% (482/566)   Receiving objects:  86% (487/566)   Receiving objects:  87% (493/566)   Receiving objects:  88% (499/566)   Receiving objects:  89% (504/566)   Receiving objects:  90% (510/566)   Receiving objects:  91% (516/566)   Receiving objects:  92% (521/566)   Receiving objects:  93% (527/566)   Receiving objects:  94% (533/566)   Receiving objects:  95% (538/566)   Receiving objects:  96% (544/566)   Receiving objects:  97% (550/566)   Receiving objects:  98% (555/566)   Receiving objects:  99% (561/566)   remote: Total 566 (delta 187), reused 432 (delta 113), pack-reused 0[K
Receiving objects: 100% (566/566)   Receiving objects: 100% (566/566), 390.41 KiB | 0 bytes/s, done.
Resolving deltas:   0% (0/187)   Resolving deltas:   3% (7/187)   Resolving deltas:   7% (14/187)   Resolving deltas:  11% (21/187)   Resolving deltas:  18% (35/187)   Resolving deltas:  19% (36/187)   Resolving deltas:  20% (38/187)   Resolving deltas:  21% (41/187)   Resolving deltas:  46% (87/187)   Resolving deltas:  47% (88/187)   Resolving deltas:  48% (91/187)   Resolving deltas:  50% (95/187)   Resolving deltas:  53% (100/187)   Resolving deltas:  59% (111/187)   Resolving deltas:  60% (113/187)   Resolving deltas:  64% (120/187)   Resolving deltas:  65% (122/187)   Resolving deltas:  66% (125/187)   Resolving deltas:  67% (126/187)   Resolving deltas:  68% (128/187)   Resolving deltas:  70% (132/187)   Resolving deltas:  71% (134/187)   Resolving deltas:  73% (137/187)   Resolving deltas:  75% (141/187)   Resolving deltas:  76% (143/187)   Resolving deltas:  77% (144/187)   Resolving deltas:  78% (146/187)   Resolving deltas:  79% (148/187)   Resolving deltas:  80% (150/187)   Resolving deltas:  85% (160/187)   Resolving deltas:  86% (161/187)   Resolving deltas:  87% (164/187)   Resolving deltas:  88% (165/187)   Resolving deltas:  90% (169/187)   Resolving deltas:  91% (171/187)   Resolving deltas:  92% (173/187)   Resolving deltas:  93% (175/187)   Resolving deltas:  94% (176/187)   Resolving deltas:  96% (180/187)   Resolving deltas:  97% (182/187)   Resolving deltas:  98% (184/187)   Resolving deltas:  99% (186/187)   Resolving deltas: 100% (187/187)   Resolving deltas: 100% (187/187), done.
Checking connectivity... done.

travis_time:end:002eecfd:start=1462015441137553352,finish=1462015441996167795,duration=858614443[0K$ cd jruby/warbler
$ git checkout -qf 6d0e674e1a96c9025233d789a7c66907d6d39324
travis_fold:end:git.checkout[0K
[33;1mThis job is running on container-based infrastructure, which does not allow use of 'sudo', setuid and setguid executables.[0m
[33;1mIf you require sudo, add 'sudo: required' to your .travis.yml[0m
[33;1mSee https://docs.travis-ci.com/user/workers/container-based-infrastructure/ for details.[0m

[33;1mSetting environment variables from .travis.yml[0m
$ export JRUBY_OPTS=""
$ export BUNDLER_VERSION="~> 1.9.9"

travis_fold:start:rvm[0K[33;1mSetting up latest jruby-head[0m
travis_time:start:11b298a6[0K$ rvm get stable
[32mDownloading https://get.rvm.io[0m
[32mDownloading https://raw.githubusercontent.com/wayneeseguin/rvm/master/binscripts/rvm-installer.asc[0m
[32mVerifying /home/travis/.rvm/archives/rvm-installer.asc[0m
gpg: Signature made Thu 21 Jan 2016 07:38:21 PM UTC using RSA key ID BF04FF17
gpg: Good signature from "Michal Papis (RVM signing) <mpapis@gmail.com>"
gpg: Note: This key has expired!
Primary key fingerprint: 409B 6B17 96C2 7546 2A17  0311 3804 BB82 D39D C0E3
     Subkey fingerprint: 62C9 E5F4 DA30 0D94 AC36  166B E206 C29F BF04 FF17
[32mGPG verified '/home/travis/.rvm/archives/rvm-installer'[0m
Downloading https://github.com/rvm/rvm/archive/1.27.0.tar.gz
Downloading https://github.com/rvm/rvm/releases/download/1.27.0/1.27.0.tar.gz.asc
gpg: Signature made Tue 29 Mar 2016 01:49:47 PM UTC using RSA key ID BF04FF17
gpg: Good signature from "Michal Papis (RVM signing) <mpapis@gmail.com>"
gpg: Note: This key has expired!
Primary key fingerprint: 409B 6B17 96C2 7546 2A17  0311 3804 BB82 D39D C0E3
     Subkey fingerprint: 62C9 E5F4 DA30 0D94 AC36  166B E206 C29F BF04 FF17
GPG verified '/home/travis/.rvm/archives/rvm-1.27.0.tgz'
[32m
Upgrading the RVM installation in /home/travis/.rvm/[0m
chown: changing ownership of `/home/travis/.rvmrc': Operation not permitted
[32m    RVM PATH line found in /home/travis/.mkshrc /home/travis/.profile /home/travis/.bashrc /home/travis/.zshrc.[0m
[32m    RVM sourcing line found in /home/travis/.bashrc.[0m
[33m    RVM sourcing line not found for Zsh, rerun this command with '--auto-dotfiles' flag to fix it.[0m
[32mUpgrade of RVM in /home/travis/.rvm/ is complete.[0m

# travis,
#
#   Thank you for using RVM!
#   We sincerely hope that RVM helps to make your life easier and more enjoyable!!!
#
# ~Wayne, Michal & team.

[33mIn case of problems: [32mhttps://rvm.io/help [33mand [32mhttps://twitter.com/rvm_io[0m

Upgrade Notes:

[31m
  * WARNING: your RVM loading script `/etc/profile.d/rvm.sh` is deprecated
    and causes you to have `umask g+w` set in your shell,
    run `rvm get head --auto-dotfiles` again to fix your scripts.
[0m
  * No new notes to display.

RVM reloaded!

travis_time:end:11b298a6:start=1462015444708641022,finish=1462015446670556599,duration=1961915577[0K$ export ruby_alias=`rvm alias show jruby-head 2>/dev/null`
travis_time:start:33ad9604[0K$ rvm alias delete jruby-head
[32mDeleting alias: jruby-head[0m|/-\|/-\|.-\|/-\|/-.|/.

travis_time:end:33ad9604:start=1462015446838941022,finish=1462015446998039388,duration=159098366[0Ktravis_time:start:065b610c[0K$ rvm remove ${ruby_alias:-jruby-head} --gems
chown: changing ownership of `/home/travis/.rvm/user/installs': Operation not permitted
[32mjruby-head - #already gone[0m

travis_time:end:065b610c:start=1462015447002054069,finish=1462015447347788938,duration=345734869[0Ktravis_time:start:03943500[0K$ rvm remove jruby-head --gems --fuzzy
[32mjruby-head - #already gone[0m

travis_time:end:03943500:start=1462015447351832010,finish=1462015447723149711,duration=371317701[0Ktravis_time:start:01e1ba00[0K$ rvm install jruby-head --binary
[32mSearching for binary rubies, this might take some time.[0m
[32mFound remote file https://rubies.travis-ci.org/ubuntu/12.04/x86_64/jruby-head.tar.gz[0m
[32mChecking requirements for ubuntu.[0m
[32mRequirements installation successful.[0m
[32mjruby-head - #configure[0m
[32mjruby-head - #download[0m
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0 69.2M    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100 69.2M  100 69.2M    0     0  68.5M      0  0:00:01  0:00:01 --:--:-- 89.9M
[33mNo checksum for downloaded archive, recording checksum in user configuration.[0m
[32mjruby-head - #validate archive[0m
[32mjruby-head - #extract[0m
[32mjruby-head - #validate binary[0m
[32mjruby-head - #setup[0m
grep: /home/travis/.rvm/rubies/jruby-head/lib/ruby/truffle/truffle/rbconfig.rb
/home/travis/.rvm/rubies/jruby-head/lib/target/classes/META-INF/jruby.home/lib/ruby/truffle/truffle/rbconfig.rb: No such file or directory
[32mjruby-head - #gemset created /home/travis/.rvm/gems/jruby-head@global[0m
[32mjruby-head - #importing gemset /home/travis/.rvm/gemsets/jruby/global.gems[0m|/-\|/-\|.-\.
[32mjruby-head - #generating global wrappers[0m|/-\|/-\|.-\|/-\|/-.|/-\|/-\|.-\|/-\|/-.|/-\|/-\|.-\|/-\|/-.|/-\|/-\|.-\|/-.
[32mjruby-head - #uninstalling gem rubygems-bundler-1.4.4[0m|/.
[32mjruby-head - #gemset created /home/travis/.rvm/gems/jruby-head[0m
[32mjruby-head - #importing gemset /home/travis/.rvm/gemsets/default.gems[0m|/-\|.
[31mError running 'gemset_import_list rake -v ~>10.2.2 bundler -v ~>1.6.0',[0m
[31mshowing last 15 lines of /home/travis/.rvm/log/1462015529_jruby-head/gemsets.import.default.log[0m
                gem_install $line || rvm_error "there was an error installing gem $line";
            done
        ;;
    esac
}
current path: /home/travis/build/jruby/warbler
GEM_HOME=/home/travis/.rvm/gems/jruby-head
PATH=/home/travis/.rvm/gems/jruby-head/bin:/home/travis/.rvm/gems/jruby-head@global/bin:/home/travis/.rvm/rubies/jruby-head/bin:/home/travis/.rvm/bin:/home/travis/bin:/home/travis/.local/bin:/home/travis/.gimme/versions/go1.4.1.linux.amd64/bin:/usr/local/phantomjs/bin:/home/travis/.nvm/v0.10.36/bin:./node_modules/.bin:/usr/local/maven-3.2.5/bin:/usr/local/clang-3.4/bin:/home/travis/.gimme/versions/go1.4.1.linux.amd64/bin:/usr/local/phantomjs/bin:./node_modules/.bin:/usr/local/maven-3.2.5/bin:/usr/local/clang-3.4/bin:/home/travis/.gimme/versions/go1.4.1.linux.amd64/bin:/usr/local/phantomjs/bin:./node_modules/.bin:/usr/local/maven-3.2.5/bin:/usr/local/clang-3.4/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
GEM_PATH=/home/travis/.rvm/gems/jruby-head:/home/travis/.rvm/gems/jruby-head@global
command(3): gemset_import_list rake -v ~>10.2.2 bundler -v ~>1.6.0
+case "${rvm_ruby_string}" in
+command gem install 'rake -v ~>10.2.2' 'bundler -v ~>1.6.0'
+gem install 'rake -v ~>10.2.2' 'bundler -v ~>1.6.0'
ERROR:  Could not find a valid gem 'rake -v ~>10.2.2' (>= 0) in any repository
ERROR:  Could not find a valid gem 'bundler -v ~>1.6.0' (>= 0) in any repository
[32mjruby-head - #generating default wrappers[0m|/-\|/-\|.-\|/-\|/-.|/-\|/-\|.-\|/-\|/-.|/-\|/-\|.-\|/-\|/-.|/-\|/-\|.-\|/-\.

travis_time:end:01e1ba00:start=1462015447727272373,finish=1462015578973288697,duration=131246016324[0Ktravis_time:start:0bb18894[0K$ rvm use jruby-head
[32mUsing /home/travis/.rvm/gems/jruby-head[0m

travis_time:end:0bb18894:start=1462015578977337973,finish=1462015579086581938,duration=109243965[0Ktravis_fold:end:rvm[0K$ export BUNDLE_GEMFILE=$PWD/Gemfile
$ java -Xmx32m -version
java version "1.7.0_76"
Java(TM) SE Runtime Environment (build 1.7.0_76-b13)
Java HotSpot(TM) 64-Bit Server VM (build 24.76-b04, mixed mode)
$ javac -J-Xmx32m -version
javac 1.7.0_76
$ ruby --version
jruby 9.1.0.0-SNAPSHOT (2.3.0) 2016-04-28 617be2d Java HotSpot(TM) 64-Bit Server VM 24.76-b04 on 1.7.0_76-b13 +jit [linux-x86_64]
$ rvm --version
rvm 1.27.0 (latest) by Wayne E. Seguin <wayneeseguin@gmail.com>, Michal Papis <mpapis@gmail.com> [https://rvm.io/]
$ bundle --version
/home/travis/build.sh: line 45: bundle: command not found
$ gem --version
2.6.2
travis_fold:start:before_install.1[0Ktravis_time:start:00e7ee38[0K$ ([ "$BUNDLER_VERSION" ] && gem uninstall bundler --all --force && gem install bundler -v "$BUNDLER_VERSION") || true
Fetching: bundler-1.9.10.gemFetching: bundler-1.9.10.gem (  7%)Fetching: bundler-1.9.10.gem ( 14%)Fetching: bundler-1.9.10.gem ( 20%)Fetching: bundler-1.9.10.gem ( 27%)Fetching: bundler-1.9.10.gem ( 34%)Fetching: bundler-1.9.10.gem ( 40%)Fetching: bundler-1.9.10.gem ( 47%)Fetching: bundler-1.9.10.gem ( 54%)Fetching: bundler-1.9.10.gem ( 60%)Fetching: bundler-1.9.10.gem ( 67%)Fetching: bundler-1.9.10.gem ( 74%)Fetching: bundler-1.9.10.gem ( 81%)Fetching: bundler-1.9.10.gem ( 87%)Fetching: bundler-1.9.10.gem ( 94%)Fetching: bundler-1.9.10.gem (100%)Fetching: bundler-1.9.10.gem (100%)
Successfully installed bundler-1.9.10
1 gem installed

travis_time:end:00e7ee38:start=1462015586054501763,finish=1462015608684343438,duration=22629841675[0Ktravis_fold:end:before_install.1[0Ktravis_fold:start:before_install.2[0Ktravis_time:start:010382ac[0K$ bundle --version
Bundler version 1.9.10

travis_time:end:010382ac:start=1462015608688711576,finish=1462015613903729796,duration=5215018220[0Ktravis_fold:end:before_install.2[0Ktravis_fold:start:install.bundler[0Ktravis_time:start:000c0b34[0K$ bundle install --jobs=3 --retry=3
Fetching gem metadata from https://rubygems.org/.........
Fetching version metadata from https://rubygems.org/..
Resolving dependencies.............
Using rake 11.1.2
Using bundler 1.9.10
[32mInstalling thread_safe 0.3.5[0m
[32mInstalling diff-lcs 1.2.5[0m
[32mInstalling backports 3.6.8[0m
[32mInstalling ruby-maven-libs 3.1.1[0m
Using jruby-openssl 0.9.16
[32mInstalling jruby-rack 1.1.20[0m
Using json 1.8.3
[32mInstalling rspec-core 2.99.2[0m
[32mInstalling jruby-jars 1.7.25[0m
[32mInstalling rspec-mocks 2.99.4[0m
[32mInstalling rubyzip 1.2.0[0m
[32mInstalling descendants_tracker 0.0.4[0m
[32mInstalling rspec-expectations 2.99.2[0m
Using warbler 1.4.10 from source at .
[32mInstalling rdoc 4.2.2[0m
[32mInstalling virtus 0.5.5[0m
[32mInstalling rspec 2.99.0[0m
[32mInstalling maven-tools 0.34.5[0m
[32mInstalling ruby-maven 3.1.1.0.2[0m
[32mInstalling jbundler 0.5.5[0m
[32mBundle complete! 9 Gemfile dependencies, 22 gems now installed.[0m
[32mUse `bundle show [gemname]` to see where a bundled gem is installed.[0m
[32mPost-install message from rdoc:[0m
Depending on your version of ruby, you may need to install ruby rdoc/ri data:

<= 1.8.6 : unsupported
 = 1.8.7 : gem install rdoc-data; rdoc-data --install
 = 1.9.1 : gem install rdoc-data; rdoc-data --install
>= 1.9.2 : nothing to do! Yay!

travis_time:end:000c0b34:start=1462015613908482696,finish=1462015646555697675,duration=32647214979[0Ktravis_fold:end:install.bundler[0Ktravis_fold:start:before_script[0Ktravis_time:start:264676aa[0K$ export JRUBY_OPTS="$JRUBY_OPTS --server -Xcext.enabled=false -Xcompile.invokedynamic=false"

travis_time:end:264676aa:start=1462015646560147866,finish=1462015646563652813,duration=3504947[0Ktravis_fold:end:before_script[0Ktravis_time:start:1a388eca[0K$ bundle exec rake spec
jruby: warning: unknown property jruby.cext.enabled
uri:classloader:/jruby/kernel/kernel.rb:17: warning: unsupported exec option: close_others
jruby: warning: unknown property jruby.cext.enabled
jruby: warning: unknown property jruby.cext.enabled
[DEPRECATION] `last_comment` is deprecated.  Please use `last_description` instead.
/home/travis/.rvm/rubies/jruby-head/bin/jruby -S rspec ./spec/warbler/application_spec.rb ./spec/warbler/bundler_spec.rb ./spec/warbler/config_spec.rb ./spec/warbler/gems_spec.rb ./spec/warbler/jar_spec.rb ./spec/warbler/jbundler_spec.rb ./spec/warbler/task_spec.rb ./spec/warbler/traits_spec.rb ./spec/warbler/war_spec.rb ./spec/warbler/web_server_spec.rb --color --format documentation
jruby: warning: unknown property jruby.cext.enabled
jruby: warning: unknown property jruby.cext.enabled

Warbler::Application
[31m  should be able to list its tasks (FAILED - 1)[0m
[31m  should display the version (FAILED - 2)[0m
[31m  should copy a fresh config file into place (FAILED - 3)[0m
[31m  should refuse to copy over an existing config file (FAILED - 4)[0m
[32m  should complain if the config directory is missing[0m
[31m  should refuse to pluginize if the lib/tasks/warbler directory exists (FAILED - 5)[0m
[31m  should define a pluginize task for adding the tasks to a Rails application (FAILED - 6)[0m
[32m  should provide a means to load the project Rakefile[0m

Warbler::Application
jruby: warning: unknown property jruby.cext.enabled
jruby: warning: unknown property jruby.cext.enabled
[32m  should report Warbler version with --version[0m

Warbler::Jar with Bundler
  in a war project
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m    detects a Bundler trait (FAILED - 7)[0m
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m    detects a Gemfile and process only its gems (FAILED - 8)[0m
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m    copies Gemfiles into the war (FAILED - 9)[0m
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m    allows overriding of the gem path when using Bundler (FAILED - 10)[0m
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m    does not bundle dependencies in the test group by default (FAILED - 11)[0m
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m    adds BUNDLE_WITHOUT to init.rb (FAILED - 12)[0m
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m    adds BUNDLE_GEMFILE to init.rb (FAILED - 13)[0m
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m    uses ENV['BUNDLE_GEMFILE'] if set (FAILED - 14)[0m
    with :git entries in the Gemfile
jruby: warning: unknown property jruby.cext.enabled
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m      works with :git entries in Gemfiles (FAILED - 15)[0m
jruby: warning: unknown property jruby.cext.enabled
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m      bundles only the gemspec for :git entries that are excluded (FAILED - 16)[0m
jruby: warning: unknown property jruby.cext.enabled
[31m      does not work with :path entries in Gemfiles (FAILED - 17)[0m
  in a jar project
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[32m    adds BUNDLE_GEMFILE to init.rb[0m
    with :git entries in the Gemfile
jruby: warning: unknown property jruby.cext.enabled
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[32m      works with :git entries in Gemfiles[0m
  when frozen
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m    includes the bundler gem (FAILED - 18)[0m
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m    does not include the bundler cache directory (FAILED - 19)[0m
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m    includes ENV['BUNDLE_FROZEN'] in init.rb (FAILED - 20)[0m
    with the runnable feature
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m      adds WarMain and JarMain to file (FAILED - 21)[0m
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m      can run commands in the generated warfile (FAILED - 22)[0m
  when deployment
jruby: warning: unknown property jruby.cext.enabled
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m    includes the bundler gem (FAILED - 23)[0m
  in a rack app
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m    should have default load path (FAILED - 24)[0m

Warbler::Config
  in an unknown application
[32m    has suitable default values[0m
  in a web application
[31m    should have suitable default values (FAILED - 25)[0m
[31m    should allow configuration through an initializer block (FAILED - 26)[0m
[31m    should allow gems to be added/changed with =, +=, -=, << (FAILED - 27)[0m
[31m    should exclude log files by default (FAILED - 28)[0m
[31m    should include log files if exclude_logs is false (FAILED - 29)[0m
[31m    should exclude Warbler itself when run as a plugin (FAILED - 30)[0m
[31m    should generate context parameters from the webxml openstruct (FAILED - 31)[0m
[31m    should determine the context listener from the webxml.booter parameter (FAILED - 32)[0m
[31m    should not include ignored webxml keys in the context params hash (FAILED - 33)[0m
[31m    should have a helpful string representation for an empty key (FAILED - 34)[0m
[31m    should HTML-escape all webxml keys and values (FAILED - 35)[0m

Warbler::Gems
[32m  should accept a hash for initialization[0m
[32m  should accept an array for initialization[0m
[32m  should allow gems with a version[0m
[32m  should allow gems without an explicit version[0m
[32m  should allow to add gems[0m

Warbler::Jar
  in a jar project
[32m    detects a Jar trait[0m
[32m    collects java libraries[0m
[32m    adds a JarMain class[0m
[32m    adds an init.rb[0m
[32m    requires 'rubygems' in init.rb[0m
[32m    does not override ENV['GEM_HOME'] by default[0m
[32m    overrides ENV['GEM_HOME'] when override_gem_home is set[0m
[32m    adds a main.rb[0m
[32m    adds script_files[0m
[32m    accepts a custom manifest file[0m
[32m    accepts a MANIFEST.MF file if it exists in the project root[0m
[32m    does not add a manifest if one already exists[0m
[32m    creates a jar[0m
    with a .gemspec
[32m      detects a Gemspec trait[0m
[32m      detects gem dependencies[0m
[32m      sets load paths in init.rb[0m
[32m      loads the default executable in main.rb[0m
[32m      includes compiled .rb and .class files[0m
[32m      includes only specified dirs[0m
[32m      excludes .rb and .class files from compile[0m
[32m      compiles included gems when compile_gems is true[0m
[32m      does not compile included gems by default[0m
    with a gemspec without a default executable
[32m      loads the first bin/executable in main.rb[0m
[32m      loads the specified bin/executable in main.rb[0m
    without a .gemspec
[32m      detects a NoGemspec trait[0m
[32m      collects gem files from configuration[0m
[32m      collects all project files in the directory[0m
[32m      sets load paths in init.rb[0m
[32m      loads the first bin/executable in main.rb[0m
[32m      loads the specified bin/executable in main.rb[0m
[32m      loads the bin/executable from other gem in main.rb[0m
[32m      does not set parameters in main.rb[0m
[32m      does set parameters in main.rb[0m
  in a war project
[31m    detects a War trait (FAILED - 36)[0m
[31m    collects files in public (FAILED - 37)[0m
[31m    collects gem files (FAILED - 38)[0m
[31m    collects gem files with dependencies (FAILED - 39)[0m
[31m    collects gem files without dependencies (FAILED - 40)[0m
[31m    adds ENV['GEM_HOME'] to init.rb (FAILED - 41)[0m
[31m    overrides ENV['GEM_HOME'] when override_gem_home is set (FAILED - 42)[0m
[31m    does not include log files by default (FAILED - 43)[0m
[31m    creates a web.xml file (FAILED - 44)[0m
[31m    includes custom context parameters in web.xml (FAILED - 45)[0m
[31m    allows one jndi resource to be included (FAILED - 46)[0m
[31m    allows multiple jndi resources to be included (FAILED - 47)[0m
[31m    does not include any ignored context parameters (FAILED - 48)[0m
[31m    uses a config/web.xml if it exists (FAILED - 49)[0m
[31m    uses a config/web.xml.erb if it exists (FAILED - 50)[0m
[31m    collects java libraries (FAILED - 51)[0m
[31m    collects application files (FAILED - 52)[0m
[31m    accepts an autodeploy directory where the war should be created (FAILED - 53)[0m
[31m    allows the jar extension to be customized (FAILED - 54)[0m
[31m    can exclude files from the .war (FAILED - 55)[0m
[31m    can exclude public files from the .war (FAILED - 56)[0m
[31m    reads configuration from config/warble.rb (FAILED - 57)[0m
[32m    fails if a gem is requested that is not installed[0m
[31m    allows specification of dependency by Gem::Dependency (FAILED - 58)[0m
[31m    copies loose java classes to WEB-INF/classes (FAILED - 59)[0m
[31m    does not try to autodetect frameworks when Warbler.framework_detection is false (FAILED - 60)[0m
[31m    skips directories that don't exist in config.dirs and print a warning (FAILED - 61)[0m
[31m    excludes Warbler's old tmp/war directory by default (FAILED - 62)[0m
[31m    writes gems to location specified by gem_path (FAILED - 63)[0m
[31m    allows adding additional WEB-INF files via config.webinf_files (FAILED - 64)[0m
[31m    allows expanding of additional WEB-INF files via config.webinf_files (FAILED - 65)[0m
[31m    excludes test files in gems according to config.gem_excludes (FAILED - 66)[0m
[31m    creates a META-INF/init.rb file with startup config (FAILED - 67)[0m
[31m    allows adjusting the init file location in the war (FAILED - 68)[0m
[31m    allows adding custom files' contents to init.rb (FAILED - 69)[0m
[31m    does not have escaped HTML in WARBLER_CONFIG (FAILED - 70)[0m
    with embedded jar files
      with move_jars_to_webinf_lib set to true
[31m        moves jar files to WEB-INF/lib (FAILED - 71)[0m
[31m        leaves jar files alone that are already in WEB-INF/lib (FAILED - 72)[0m
      with move_jars_to_webinf_lib not set
[31m        moves jar files to WEB-INF/lib (FAILED - 73)[0m
      with move_jars_to_webinf_lib set to regexp
[31m        moves jar files that match to WEB-INF/lib (FAILED - 74)[0m
[31m        removes default jars not matched by filter from WEB-INF/lib (FAILED - 75)[0m
    with the executable feature
[31m      adds WarMain (and JarMain) class (FAILED - 76)[0m
    with the runnable feature
[31m      adds WarMain (and JarMain) class (FAILED - 77)[0m
    in a Rails application
[31m      detects a Rails trait (FAILED - 78)[0m
[31m      auto-detects a Rails application (FAILED - 79)[0m
[31m      adds the rails.rb to the script files (FAILED - 80)[0m
[31m      provides Rails gems by default, unless vendor/rails is present (FAILED - 81)[0m
[31m      automatically adds Rails.configuration.gems to the list of gems (FAILED - 82)[0m
[31m      adds RAILS_ENV to init.rb (FAILED - 83)[0m
      with asset_pipeline
[31m        automatically adds asset pipeline manifest file to the included files (FAILED - 84)[0m
      with threadsafe! enabled in production.rb
        it should behave like threaded environment
[31m          sets the jruby min and max runtimes to 1 (FAILED - 85)[0m
[31m          doesn't override already configured runtime numbers (FAILED - 86)[0m
      with threadsafe! enabled in environment.rb
        it should behave like threaded environment
[31m          sets the jruby min and max runtimes to 1 (FAILED - 87)[0m
[31m          doesn't override already configured runtime numbers (FAILED - 88)[0m
      with rails version 4
        When rails version is specified in Gemfile
          it should behave like threaded environment
[31m            sets the jruby min and max runtimes to 1 (FAILED - 89)[0m
[31m            doesn't override already configured runtime numbers (FAILED - 90)[0m
          it should behave like asset pipeline
[31m            automatically adds asset pipeline manifest file to the included files (FAILED - 91)[0m
        when rails version is not specified in Gemfile
          it should behave like threaded environment
[31m            sets the jruby min and max runtimes to 1 (FAILED - 92)[0m
[31m            doesn't override already configured runtime numbers (FAILED - 93)[0m
          it should behave like asset pipeline
[31m            automatically adds asset pipeline manifest file to the included files (FAILED - 94)[0m
    in a Merb application
[31m      detects a Merb trait (FAILED - 95)[0m
[31m      auto-detects a Merb application (FAILED - 96)[0m
[31m      automatically adds Merb::BootLoader::Dependencies.dependencies to the list of gems (FAILED - 97)[0m
[31m      skips Merb development dependencies (FAILED - 98)[0m
[31m      warns about using Merb < 1.0 (FAILED - 99)[0m
    in a Rack application
[31m      detects a Rack trait (FAILED - 100)[0m
[31m      auto-detects a Rack application with a config.ru file (FAILED - 101)[0m
[31m      adds RACK_ENV to init.rb (FAILED - 102)[0m

Warbler::Jar with JBundler
  in a war project
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m    detects a JBundler trait (FAILED - 103)[0m
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m    detects a Jarfile and process only its jars (FAILED - 104)[0m
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m    copies jars from jbundler classpath into the war (FAILED - 105)[0m
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m    adds JBUNDLE_SKIP to init.rb (FAILED - 106)[0m
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m    uses ENV['JBUNDLE_JARFILE'] if set (FAILED - 107)[0m
  when locked down
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m    does not include the jbundler gem (as it is in the development group) (FAILED - 108)[0m
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored
[31m    does not include the jbundler runtime config (FAILED - 109)[0m

Warbler::Task

An error occurred in an after hook
  NoMethodError: undefined method `root=' for nil:NilClass
  occurred at /home/travis/build/jruby/warbler/lib/warbler/traits/war.rb:53:in `default_webxml_config'

[31m  should define a clean task for removing the war file (FAILED - 110)[0m

An error occurred in an after hook
  NoMethodError: undefined method `root=' for nil:NilClass
  occurred at /home/travis/build/jruby/warbler/lib/warbler/traits/war.rb:53:in `default_webxml_config'

[31m  should define a make_gemjar task for storing gems in a jar file (FAILED - 111)[0m

An error occurred in an after hook
  NoMethodError: undefined method `root=' for nil:NilClass
  occurred at /home/travis/build/jruby/warbler/lib/warbler/traits/war.rb:53:in `default_webxml_config'

[31m  should define a war task for bundling up everything (FAILED - 112)[0m

An error occurred in an after hook
  NoMethodError: undefined method `root=' for nil:NilClass
  occurred at /home/travis/build/jruby/warbler/lib/warbler/traits/war.rb:53:in `default_webxml_config'

[31m  should define a jar task for creating the .war (FAILED - 113)[0m

An error occurred in an after hook
  NoMethodError: undefined method `root=' for nil:NilClass
  occurred at /home/travis/build/jruby/warbler/lib/warbler/traits/war.rb:53:in `default_webxml_config'

[31m  should invoke feature tasks configured in config.features (FAILED - 114)[0m

An error occurred in an after hook
  NoMethodError: undefined method `root=' for nil:NilClass
  occurred at /home/travis/build/jruby/warbler/lib/warbler/traits/war.rb:53:in `default_webxml_config'

[31m  should warn and skip unknown features configured in config.features (FAILED - 115)[0m

An error occurred in an after hook
  NoMethodError: undefined method `root=' for nil:NilClass
  occurred at /home/travis/build/jruby/warbler/lib/warbler/traits/war.rb:53:in `default_webxml_config'

[31m  should define an executable task for embedding a server in the war file (FAILED - 116)[0m

An error occurred in an after hook
  NoMethodError: undefined method `root=' for nil:NilClass
  occurred at /home/travis/build/jruby/warbler/lib/warbler/traits/war.rb:53:in `default_webxml_config'

[31m  should be able to define all tasks successfully (FAILED - 117)[0m

An error occurred in an after hook
  NoMethodError: undefined method `root=' for nil:NilClass
  occurred at /home/travis/build/jruby/warbler/lib/warbler/traits/war.rb:53:in `default_webxml_config'

[31m  should compile any ruby files specified (FAILED - 118)[0m

An error occurred in an after hook
  NoMethodError: undefined method `root=' for nil:NilClass
  occurred at /home/travis/build/jruby/warbler/lib/warbler/traits/war.rb:53:in `default_webxml_config'

[31m  should compile ruby 1.9 mode (FAILED - 119)[0m

An error occurred in an after hook
  NoMethodError: undefined method `root=' for nil:NilClass
  occurred at /home/travis/build/jruby/warbler/lib/warbler/traits/war.rb:53:in `default_webxml_config'

[31m  should allow bytecode version in config (FAILED - 120)[0m

An error occurred in an after hook
  NoMethodError: undefined method `root=' for nil:NilClass
  occurred at /home/travis/build/jruby/warbler/lib/warbler/traits/war.rb:53:in `default_webxml_config'

[31m  should delete .class files after finishing the jar (FAILED - 121)[0m
  where symlinks are available

An error occurred in an after hook
  NoMethodError: undefined method `root=' for nil:NilClass
  occurred at /home/travis/build/jruby/warbler/lib/warbler/traits/war.rb:53:in `default_webxml_config'

[31m    should process symlinks by storing a file in the archive that has the same contents as the source (FAILED - 122)[0m

An error occurred in an after hook
  NoMethodError: undefined method `root=' for nil:NilClass
  occurred at /home/travis/build/jruby/warbler/lib/warbler/traits/war.rb:53:in `default_webxml_config'

[31m    should process directory symlinks by copying the whole subdirectory (FAILED - 123)[0m
  with a Bundler Gemfile
jruby: warning: unknown property jruby.cext.enabled
warning: --1.9 ignored

An error occurred in an after hook
  NoMethodError: undefined method `root=' for nil:NilClass
  occurred at (druby://127.0.0.1:7890) /home/travis/build/jruby/warbler/lib/warbler/traits/war.rb:53:in `default_webxml_config'


An error occurred in an after hook
  NoMethodError: undefined method `root=' for nil:NilClass
  occurred at /home/travis/build/jruby/warbler/lib/warbler/traits/war.rb:53:in `default_webxml_config'

[31m    includes gems from the Gemfile (FAILED - 124)[0m

Debug targets
[31m  should print out lists of files (FAILED - 125)[0m

Warbler::Traits
[32m  are ordered by fewer dependencies first[0m

Warbler::War
[32m  is deprecated, replace occurrences with Warbler::Jar[0m

Warbler::WebServer::Artifact
[32m  uses default (maven) local repository[0m
[32m  detects a custom maven repository setting[0m

Failures:

  1) Warbler::Application should be able to list its tasks
     [31mFailure/Error:[0m [31mWarbler::Application.new.run[0m
     [31mSystemExit[0m:
       [31mexit[0m
[36m     # ./lib/warbler/application.rb:77:in `run'[0m
[36m     # ./spec/warbler/application_spec.rb:35:in `block in (root)'[0m
[36m     # ./spec/warbler/application_spec.rb:34:in `block in (root)'[0m

  2) Warbler::Application should display the version
     [31mFailure/Error:[0m [31mcapture { Warbler::Application.new.run }.should =~ /#{Warbler::VERSION}/[0m
     [31mSystemExit[0m:
       [31mexit[0m
[36m     # ./lib/warbler/application.rb:77:in `run'[0m
[36m     # ./spec/warbler/application_spec.rb:44:in `block in (root)'[0m
[36m     # ./spec/warbler/application_spec.rb:44:in `block in (root)'[0m

  3) Warbler::Application should copy a fresh config file into place
     [31mFailure/Error:[0m [31msilence { Warbler::Application.new.run }[0m
     [31mSystemExit[0m:
       [31mexit[0m
[36m     # ./lib/warbler/application.rb:77:in `run'[0m
[36m     # ./spec/warbler/application_spec.rb:50:in `block in (root)'[0m
[36m     # ./spec/warbler/application_spec.rb:50:in `block in (root)'[0m

  4) Warbler::Application should refuse to copy over an existing config file
     [31mFailure/Error:[0m [31mcapture { Warbler::Application.new.run }.should =~ /already exists/[0m
     [31mSystemExit[0m:
       [31mexit[0m
[36m     # ./lib/warbler/application.rb:77:in `run'[0m
[36m     # ./spec/warbler/application_spec.rb:57:in `block in (root)'[0m
[36m     # ./spec/warbler/application_spec.rb:57:in `block in (root)'[0m

  5) Warbler::Application should refuse to pluginize if the lib/tasks/warbler directory exists
     [31mFailure/Error:[0m [31msilence { Warbler::Application.new.run }[0m
     [31mSystemExit[0m:
       [31mexit[0m
[36m     # ./lib/warbler/application.rb:77:in `run'[0m
[36m     # ./spec/warbler/application_spec.rb:73:in `block in (root)'[0m
[36m     # ./spec/warbler/application_spec.rb:73:in `block in (root)'[0m

  6) Warbler::Application should define a pluginize task for adding the tasks to a Rails application
     [31mFailure/Error:[0m [31msilence { Warbler::Application.new.run }[0m
     [31mSystemExit[0m:
       [31mexit[0m
[36m     # ./lib/warbler/application.rb:77:in `run'[0m
[36m     # ./spec/warbler/application_spec.rb:79:in `block in (root)'[0m
[36m     # ./spec/warbler/application_spec.rb:79:in `block in (root)'[0m

  7) Warbler::Jar with Bundler in a war project detects a Bundler trait
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:28:in `block in config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:40:in `block in (root)'[0m

  8) Warbler::Jar with Bundler in a war project detects a Gemfile and process only its gems
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:28:in `block in config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:47:in `block in (root)'[0m

  9) Warbler::Jar with Bundler in a war project copies Gemfiles into the war
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:28:in `block in config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:55:in `block in (root)'[0m

  10) Warbler::Jar with Bundler in a war project allows overriding of the gem path when using Bundler
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:28:in `block in config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:64:in `block in (root)'[0m

  11) Warbler::Jar with Bundler in a war project does not bundle dependencies in the test group by default
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:28:in `block in config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:97:in `block in (root)'[0m

  12) Warbler::Jar with Bundler in a war project adds BUNDLE_WITHOUT to init.rb
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:28:in `block in config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:105:in `block in (root)'[0m

  13) Warbler::Jar with Bundler in a war project adds BUNDLE_GEMFILE to init.rb
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:28:in `block in config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:112:in `block in (root)'[0m

  14) Warbler::Jar with Bundler in a war project uses ENV['BUNDLE_GEMFILE'] if set
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:28:in `block in config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:120:in `block in (root)'[0m

  15) Warbler::Jar with Bundler in a war project with :git entries in the Gemfile works with :git entries in Gemfiles
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:28:in `block in config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:74:in `block in (root)'[0m

  16) Warbler::Jar with Bundler in a war project with :git entries in the Gemfile bundles only the gemspec for :git entries that are excluded
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:28:in `block in config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:82:in `block in (root)'[0m

  17) Warbler::Jar with Bundler in a war project with :git entries in the Gemfile does not work with :path entries in Gemfiles
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:28:in `block in config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:90:in `block in (root)'[0m
[36m     # ./spec/warbler/bundler_spec.rb:90:in `block in (root)'[0m

  18) Warbler::Jar with Bundler when frozen includes the bundler gem
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:28:in `block in config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:155:in `block in (root)'[0m

  19) Warbler::Jar with Bundler when frozen does not include the bundler cache directory
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:28:in `block in config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:161:in `block in (root)'[0m

  20) Warbler::Jar with Bundler when frozen includes ENV['BUNDLE_FROZEN'] in init.rb
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:28:in `block in config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:166:in `block in (root)'[0m

  21) Warbler::Jar with Bundler when frozen with the runnable feature adds WarMain and JarMain to file
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:28:in `block in config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:184:in `block in (root)'[0m

  22) Warbler::Jar with Bundler when frozen with the runnable feature can run commands in the generated warfile
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:28:in `block in config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:184:in `block in (root)'[0m

  23) Warbler::Jar with Bundler when deployment includes the bundler gem
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:28:in `block in config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:219:in `block in (root)'[0m

  24) Warbler::Jar with Bundler in a rack app should have default load path
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:28:in `block in config'[0m
[36m     # ./spec/warbler/bundler_spec.rb:231:in `block in (root)'[0m

  25) Warbler::Config in a web application should have suitable default values
     [31mFailure/Error:[0m [31mconfig = Warbler::Config.new[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/config_spec.rb:38:in `block in (root)'[0m

  26) Warbler::Config in a web application should allow configuration through an initializer block
     [31mFailure/Error:[0m [31mconfig = Warbler::Config.new do |c|[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/config_spec.rb:50:in `block in (root)'[0m

  27) Warbler::Config in a web application should allow gems to be added/changed with =, +=, -=, <<
     [31mFailure/Error:[0m [31mconfig = Warbler::Config.new do |c|[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/config_spec.rb:57:in `block in (root)'[0m

  28) Warbler::Config in a web application should exclude log files by default
     [31mFailure/Error:[0m [31mconfig = Warbler::Config.new[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/config_spec.rb:68:in `block in (root)'[0m

  29) Warbler::Config in a web application should include log files if exclude_logs is false
     [31mFailure/Error:[0m [31mconfig = Warbler::Config.new {|c| c.exclude_logs = false }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/config_spec.rb:76:in `block in (root)'[0m

  30) Warbler::Config in a web application should exclude Warbler itself when run as a plugin
     [31mFailure/Error:[0m [31mconfig = Warbler::Config.new[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/config_spec.rb:82:in `block in (root)'[0m

  31) Warbler::Config in a web application should generate context parameters from the webxml openstruct
     [31mFailure/Error:[0m [31mconfig = Warbler::Config.new[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/config_spec.rb:89:in `block in (root)'[0m

  32) Warbler::Config in a web application should determine the context listener from the webxml.booter parameter
     [31mFailure/Error:[0m [31mconfig = Warbler::Config.new[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/config_spec.rb:110:in `block in (root)'[0m

  33) Warbler::Config in a web application should not include ignored webxml keys in the context params hash
     [31mFailure/Error:[0m [31mWarbler::Config.new.webxml.context_params.should_not have_key('ignored')[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/config_spec.rb:121:in `block in (root)'[0m

  34) Warbler::Config in a web application should have a helpful string representation for an empty key
     [31mFailure/Error:[0m [31mWarbler::Config.new.webxml.missing_key.to_s.should =~ /No value for 'missing_key' found/[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/config_spec.rb:127:in `block in (root)'[0m

  35) Warbler::Config in a web application should HTML-escape all webxml keys and values
     [31mFailure/Error:[0m [31mconfig = Warbler::Config.new[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/config_spec.rb:131:in `block in (root)'[0m

  36) Warbler::Jar in a war project detects a War trait
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in config'[0m
[36m     # ./spec/warbler/jar_spec.rb:333:in `block in (root)'[0m

  37) Warbler::Jar in a war project collects files in public
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in config'[0m
[36m     # ./spec/warbler/jar_spec.rb:337:in `block in (root)'[0m

  38) Warbler::Jar in a war project collects gem files
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in config'[0m
[36m     # ./spec/warbler/jar_spec.rb:345:in `block in (root)'[0m

  39) Warbler::Jar in a war project collects gem files with dependencies
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in config'[0m
[36m     # ./spec/warbler/jar_spec.rb:355:in `block in (root)'[0m

  40) Warbler::Jar in a war project collects gem files without dependencies
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in config'[0m
[36m     # ./spec/warbler/jar_spec.rb:365:in `block in (root)'[0m

  41) Warbler::Jar in a war project adds ENV['GEM_HOME'] to init.rb
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in config'[0m
[36m     # ./spec/warbler/jar_spec.rb:371:in `block in (root)'[0m

  42) Warbler::Jar in a war project overrides ENV['GEM_HOME'] when override_gem_home is set
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in config'[0m
[36m     # ./spec/warbler/jar_spec.rb:378:in `block in (root)'[0m

  43) Warbler::Jar in a war project does not include log files by default
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in config'[0m
[36m     # ./spec/warbler/jar_spec.rb:385:in `block in (root)'[0m

  44) Warbler::Jar in a war project creates a web.xml file
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in config'[0m
[36m     # ./spec/warbler/jar_spec.rb:391:in `expand_webxml'[0m
[36m     # ./spec/warbler/jar_spec.rb:401:in `block in (root)'[0m

  45) Warbler::Jar in a war project includes custom context parameters in web.xml
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in config'[0m
[36m     # ./spec/warbler/jar_spec.rb:391:in `expand_webxml'[0m
[36m     # ./spec/warbler/jar_spec.rb:414:in `block in (root)'[0m

  46) Warbler::Jar in a war project allows one jndi resource to be included
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in config'[0m
[36m     # ./spec/warbler/jar_spec.rb:391:in `expand_webxml'[0m
[36m     # ./spec/warbler/jar_spec.rb:427:in `block in (root)'[0m

  47) Warbler::Jar in a war project allows multiple jndi resources to be included
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in config'[0m
[36m     # ./spec/warbler/jar_spec.rb:391:in `expand_webxml'[0m
[36m     # ./spec/warbler/jar_spec.rb:437:in `block in (root)'[0m

  48) Warbler::Jar in a war project does not include any ignored context parameters
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in config'[0m
[36m     # ./spec/warbler/jar_spec.rb:391:in `expand_webxml'[0m
[36m     # ./spec/warbler/jar_spec.rb:451:in `block in (root)'[0m

  49) Warbler::Jar in a war project uses a config/web.xml if it exists
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in config'[0m
[36m     # ./spec/warbler/jar_spec.rb:466:in `block in (root)'[0m

  50) Warbler::Jar in a war project uses a config/web.xml.erb if it exists
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in config'[0m
[36m     # ./spec/warbler/jar_spec.rb:473:in `block in (root)'[0m

  51) Warbler::Jar in a war project collects java libraries
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in config'[0m
[36m     # ./spec/warbler/jar_spec.rb:479:in `block in (root)'[0m

  52) Warbler::Jar in a war project collects application files
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in config'[0m
[36m     # ./spec/warbler/jar_spec.rb:484:in `block in (root)'[0m

  53) Warbler::Jar in a war project accepts an autodeploy directory where the war should be created
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in config'[0m
[36m     # ./spec/warbler/jar_spec.rb:498:in `block in (root)'[0m
[36m     # ./spec/warbler/jar_spec.rb:498:in `block in (root)'[0m

  54) Warbler::Jar in a war project allows the jar extension to be customized
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:509:in `block in (root)'[0m
[36m     # ./spec/warbler/jar_spec.rb:509:in `block in (root)'[0m

  55) Warbler::Jar in a war project can exclude files from the .war
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:517:in `block in (root)'[0m

  56) Warbler::Jar in a war project can exclude public files from the .war
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:525:in `block in (root)'[0m

  57) Warbler::Jar in a war project reads configuration from config/warble.rb
     [31mFailure/Error:[0m [31mt = Warbler::Task.new "warble"[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # config/warble.rb:4:in `<eval>'[0m
[36m     # ./lib/warbler/task.rb:46:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:539:in `block in (root)'[0m

  58) Warbler::Jar in a war project allows specification of dependency by Gem::Dependency
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:566:in `block in (root)'[0m
[36m     # ./spec/warbler/jar_spec.rb:566:in `block in (root)'[0m

  59) Warbler::Jar in a war project copies loose java classes to WEB-INF/classes
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:573:in `block in (root)'[0m

  60) Warbler::Jar in a war project does not try to autodetect frameworks when Warbler.framework_detection is false
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:581:in `block in (root)'[0m

  61) Warbler::Jar in a war project skips directories that don't exist in config.dirs and print a warning
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:962:in `block in (root)'[0m
[36m     # ./spec/warbler/jar_spec.rb:962:in `block in (root)'[0m

  62) Warbler::Jar in a war project excludes Warbler's old tmp/war directory by default
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:973:in `block in (root)'[0m

  63) Warbler::Jar in a war project writes gems to location specified by gem_path
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:391:in `expand_webxml'[0m
[36m     # ./spec/warbler/jar_spec.rb:983:in `block in (root)'[0m

  64) Warbler::Jar in a war project allows adding additional WEB-INF files via config.webinf_files
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:1000:in `block in (root)'[0m

  65) Warbler::Jar in a war project allows expanding of additional WEB-INF files via config.webinf_files
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:1012:in `block in (root)'[0m

  66) Warbler::Jar in a war project excludes test files in gems according to config.gem_excludes
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:1021:in `block in (root)'[0m

  67) Warbler::Jar in a war project creates a META-INF/init.rb file with startup config
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:1026:in `block in (root)'[0m

  68) Warbler::Jar in a war project allows adjusting the init file location in the war
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:1034:in `block in (root)'[0m

  69) Warbler::Jar in a war project allows adding custom files' contents to init.rb
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:1042:in `block in (root)'[0m

  70) Warbler::Jar in a war project does not have escaped HTML in WARBLER_CONFIG
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:1051:in `block in (root)'[0m

  71) Warbler::Jar in a war project with embedded jar files with move_jars_to_webinf_lib set to true moves jar files to WEB-INF/lib
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:606:in `block in (root)'[0m

  72) Warbler::Jar in a war project with embedded jar files with move_jars_to_webinf_lib set to true leaves jar files alone that are already in WEB-INF/lib
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:612:in `block in (root)'[0m

  73) Warbler::Jar in a war project with embedded jar files with move_jars_to_webinf_lib not set moves jar files to WEB-INF/lib
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:620:in `block in (root)'[0m

  74) Warbler::Jar in a war project with embedded jar files with move_jars_to_webinf_lib set to regexp moves jar files that match to WEB-INF/lib
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:641:in `block in (root)'[0m

  75) Warbler::Jar in a war project with embedded jar files with move_jars_to_webinf_lib set to regexp removes default jars not matched by filter from WEB-INF/lib
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:648:in `block in (root)'[0m

  76) Warbler::Jar in a war project with the executable feature adds WarMain (and JarMain) class
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:665:in `block in (root)'[0m

  77) Warbler::Jar in a war project with the runnable feature adds WarMain (and JarMain) class
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:677:in `block in (root)'[0m

  78) Warbler::Jar in a war project in a Rails application detects a Rails trait
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:702:in `block in (root)'[0m

  79) Warbler::Jar in a war project in a Rails application auto-detects a Rails application
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:706:in `block in (root)'[0m

  80) Warbler::Jar in a war project in a Rails application adds the rails.rb to the script files
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:711:in `block in (root)'[0m

  81) Warbler::Jar in a war project in a Rails application provides Rails gems by default, unless vendor/rails is present
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:715:in `block in (root)'[0m

  82) Warbler::Jar in a war project in a Rails application automatically adds Rails.configuration.gems to the list of gems
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:737:in `block in (root)'[0m

  83) Warbler::Jar in a war project in a Rails application adds RAILS_ENV to init.rb
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:856:in `block in (root)'[0m

  84) Warbler::Jar in a war project in a Rails application with asset_pipeline automatically adds asset pipeline manifest file to the included files
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:772:in `block in (root)'[0m

  85) Warbler::Jar in a war project in a Rails application with threadsafe! enabled in production.rb it should behave like threaded environment sets the jruby min and max runtimes to 1
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
     Shared Example Group: "threaded environment" called from ./spec/warbler/jar_spec.rb:786
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:744:in `block in (root)'[0m

  86) Warbler::Jar in a war project in a Rails application with threadsafe! enabled in production.rb it should behave like threaded environment doesn't override already configured runtime numbers
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
     Shared Example Group: "threaded environment" called from ./spec/warbler/jar_spec.rb:786
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:754:in `block in (root)'[0m

  87) Warbler::Jar in a war project in a Rails application with threadsafe! enabled in environment.rb it should behave like threaded environment sets the jruby min and max runtimes to 1
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
     Shared Example Group: "threaded environment" called from ./spec/warbler/jar_spec.rb:799
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:744:in `block in (root)'[0m

  88) Warbler::Jar in a war project in a Rails application with threadsafe! enabled in environment.rb it should behave like threaded environment doesn't override already configured runtime numbers
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
     Shared Example Group: "threaded environment" called from ./spec/warbler/jar_spec.rb:799
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:754:in `block in (root)'[0m

  89) Warbler::Jar in a war project in a Rails application with rails version 4 When rails version is specified in Gemfile it should behave like threaded environment sets the jruby min and max runtimes to 1
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
     Shared Example Group: "threaded environment" called from ./spec/warbler/jar_spec.rb:830
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:744:in `block in (root)'[0m

  90) Warbler::Jar in a war project in a Rails application with rails version 4 When rails version is specified in Gemfile it should behave like threaded environment doesn't override already configured runtime numbers
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
     Shared Example Group: "threaded environment" called from ./spec/warbler/jar_spec.rb:830
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:754:in `block in (root)'[0m

  91) Warbler::Jar in a war project in a Rails application with rails version 4 When rails version is specified in Gemfile it should behave like asset pipeline automatically adds asset pipeline manifest file to the included files
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
     Shared Example Group: "asset pipeline" called from ./spec/warbler/jar_spec.rb:831
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:808:in `block in (root)'[0m

  92) Warbler::Jar in a war project in a Rails application with rails version 4 when rails version is not specified in Gemfile it should behave like threaded environment sets the jruby min and max runtimes to 1
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
     Shared Example Group: "threaded environment" called from ./spec/warbler/jar_spec.rb:845
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:744:in `block in (root)'[0m

  93) Warbler::Jar in a war project in a Rails application with rails version 4 when rails version is not specified in Gemfile it should behave like threaded environment doesn't override already configured runtime numbers
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
     Shared Example Group: "threaded environment" called from ./spec/warbler/jar_spec.rb:845
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:754:in `block in (root)'[0m

  94) Warbler::Jar in a war project in a Rails application with rails version 4 when rails version is not specified in Gemfile it should behave like asset pipeline automatically adds asset pipeline manifest file to the included files
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
     Shared Example Group: "asset pipeline" called from ./spec/warbler/jar_spec.rb:846
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:808:in `block in (root)'[0m

  95) Warbler::Jar in a war project in a Merb application detects a Merb trait
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:896:in `block in (root)'[0m

  96) Warbler::Jar in a war project in a Merb application auto-detects a Merb application
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:900:in `block in (root)'[0m

  97) Warbler::Jar in a war project in a Merb application automatically adds Merb::BootLoader::Dependencies.dependencies to the list of gems
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:908:in `block in (root)'[0m

  98) Warbler::Jar in a war project in a Merb application skips Merb development dependencies
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:915:in `block in (root)'[0m

  99) Warbler::Jar in a war project in a Merb application warns about using Merb < 1.0
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:923:in `block in (root)'[0m
[36m     # ./spec/warbler/jar_spec.rb:923:in `block in (root)'[0m

  100) Warbler::Jar in a war project in a Rack application detects a Rack trait
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:941:in `block in (root)'[0m

  101) Warbler::Jar in a war project in a Rack application auto-detects a Rack application with a config.ru file
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:945:in `block in (root)'[0m

  102) Warbler::Jar in a war project in a Rack application adds RACK_ENV to init.rb
     [31mFailure/Error:[0m [31mlet(:config) { Warbler::Config.new {|c| apply_extra_config(c) } }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/jar_spec.rb:26:in `block in /home/travis/build/jruby/warbler/spec/warbler/jar_spec.rb'[0m
[36m     # ./spec/warbler/jar_spec.rb:951:in `block in (root)'[0m

  103) Warbler::Jar with JBundler in a war project detects a JBundler trait
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/jbundler_spec.rb:23:in `block in config'[0m
[36m     # ./spec/warbler/jbundler_spec.rb:36:in `block in (root)'[0m

  104) Warbler::Jar with JBundler in a war project detects a Jarfile and process only its jars
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/jbundler_spec.rb:23:in `block in config'[0m
[36m     # ./spec/warbler/jbundler_spec.rb:43:in `block in (root)'[0m

  105) Warbler::Jar with JBundler in a war project copies jars from jbundler classpath into the war
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/jbundler_spec.rb:23:in `block in config'[0m
[36m     # ./spec/warbler/jbundler_spec.rb:50:in `block in (root)'[0m

  106) Warbler::Jar with JBundler in a war project adds JBUNDLE_SKIP to init.rb
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/jbundler_spec.rb:23:in `block in config'[0m
[36m     # ./spec/warbler/jbundler_spec.rb:55:in `block in (root)'[0m

  107) Warbler::Jar with JBundler in a war project uses ENV['JBUNDLE_JARFILE'] if set
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/jbundler_spec.rb:23:in `block in config'[0m
[36m     # ./spec/warbler/jbundler_spec.rb:63:in `block in (root)'[0m

  108) Warbler::Jar with JBundler when locked down does not include the jbundler gem (as it is in the development group)
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/jbundler_spec.rb:23:in `block in config'[0m
[36m     # ./spec/warbler/jbundler_spec.rb:72:in `block in (root)'[0m

  109) Warbler::Jar with JBundler when locked down does not include the jbundler runtime config
     [31mFailure/Error:[0m [31mlet(:config) { drbclient.config(@extra_config) }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # ./spec/warbler/jbundler_spec.rb:23:in `block in config'[0m
[36m     # ./spec/warbler/jbundler_spec.rb:79:in `block in (root)'[0m

  110) Warbler::Task should define a clean task for removing the war file
     [31mFailure/Error:[0m [31mWarbler::Config.new do |config|[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/task_spec.rb:16:in `block in config'[0m
[36m     # ./spec/warbler/task_spec.rb:48:in `block in (root)'[0m

  111) Warbler::Task should define a make_gemjar task for storing gems in a jar file
     [31mFailure/Error:[0m [31mWarbler::Config.new do |config|[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/task_spec.rb:16:in `block in config'[0m
[36m     # ./spec/warbler/task_spec.rb:24:in `block in warble_task'[0m
[36m     # ./spec/warbler/task_spec.rb:27:in `run_task'[0m
[36m     # ./spec/warbler/task_spec.rb:56:in `block in (root)'[0m
[36m     # ./spec/warbler/task_spec.rb:56:in `block in (root)'[0m

  112) Warbler::Task should define a war task for bundling up everything
     [31mFailure/Error:[0m [31mWarbler::Config.new do |config|[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/task_spec.rb:16:in `block in config'[0m
[36m     # ./spec/warbler/task_spec.rb:24:in `block in warble_task'[0m
[36m     # ./spec/warbler/task_spec.rb:27:in `run_task'[0m
[36m     # ./spec/warbler/task_spec.rb:65:in `block in (root)'[0m
[36m     # ./spec/warbler/task_spec.rb:65:in `block in (root)'[0m

  113) Warbler::Task should define a jar task for creating the .war
     [31mFailure/Error:[0m [31mWarbler::Config.new do |config|[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/task_spec.rb:16:in `block in config'[0m
[36m     # ./spec/warbler/task_spec.rb:24:in `block in warble_task'[0m
[36m     # ./spec/warbler/task_spec.rb:72:in `block in (root)'[0m

  114) Warbler::Task should invoke feature tasks configured in config.features
     [31mFailure/Error:[0m [31mWarbler::Config.new do |config|[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/task_spec.rb:16:in `block in config'[0m
[36m     # ./spec/warbler/task_spec.rb:78:in `block in (root)'[0m

  115) Warbler::Task should warn and skip unknown features configured in config.features
     [31mFailure/Error:[0m [31mWarbler::Config.new do |config|[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/task_spec.rb:16:in `block in config'[0m
[36m     # ./spec/warbler/task_spec.rb:84:in `block in (root)'[0m

  116) Warbler::Task should define an executable task for embedding a server in the war file
     [31mFailure/Error:[0m [31mWarbler::Config.new do |config|[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/task_spec.rb:16:in `block in config'[0m
[36m     # ./spec/warbler/task_spec.rb:24:in `block in warble_task'[0m
[36m     # ./spec/warbler/task_spec.rb:27:in `run_task'[0m
[36m     # ./spec/warbler/task_spec.rb:89:in `block in (root)'[0m
[36m     # ./spec/warbler/task_spec.rb:89:in `block in (root)'[0m

  117) Warbler::Task should be able to define all tasks successfully
     [31mFailure/Error:[0m [31mWarbler::Config.new do |config|[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/task_spec.rb:16:in `block in config'[0m
[36m     # ./spec/warbler/task_spec.rb:94:in `block in (root)'[0m

  118) Warbler::Task should compile any ruby files specified
     [31mFailure/Error:[0m [31mWarbler::Config.new do |config|[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/task_spec.rb:16:in `block in config'[0m
[36m     # ./spec/warbler/task_spec.rb:98:in `block in (root)'[0m

  119) Warbler::Task should compile ruby 1.9 mode
     [31mFailure/Error:[0m [31mWarbler::Config.new do |config|[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/task_spec.rb:16:in `block in config'[0m
[36m     # ./spec/warbler/task_spec.rb:113:in `block in (root)'[0m

  120) Warbler::Task should allow bytecode version in config
     [31mFailure/Error:[0m [31mWarbler::Config.new do |config|[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/task_spec.rb:16:in `block in config'[0m
[36m     # ./spec/warbler/task_spec.rb:129:in `block in (root)'[0m

  121) Warbler::Task should delete .class files after finishing the jar
     [31mFailure/Error:[0m [31mWarbler::Config.new do |config|[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/task_spec.rb:16:in `block in config'[0m
[36m     # ./spec/warbler/task_spec.rb:148:in `block in (root)'[0m

  122) Warbler::Task where symlinks are available should process symlinks by storing a file in the archive that has the same contents as the source
     [31mFailure/Error:[0m [31mWarbler::Config.new do |config|[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/task_spec.rb:16:in `block in config'[0m
[36m     # ./spec/warbler/task_spec.rb:24:in `block in warble_task'[0m
[36m     # ./spec/warbler/task_spec.rb:27:in `run_task'[0m
[36m     # ./spec/warbler/task_spec.rb:160:in `block in (root)'[0m
[36m     # ./spec/warbler/task_spec.rb:160:in `block in (root)'[0m

  123) Warbler::Task where symlinks are available should process directory symlinks by copying the whole subdirectory
     [31mFailure/Error:[0m [31mWarbler::Config.new do |config|[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./spec/warbler/task_spec.rb:16:in `block in config'[0m
[36m     # ./spec/warbler/task_spec.rb:24:in `block in warble_task'[0m
[36m     # ./spec/warbler/task_spec.rb:27:in `run_task'[0m
[36m     # ./spec/warbler/task_spec.rb:170:in `block in (root)'[0m
[36m     # ./spec/warbler/task_spec.rb:170:in `block in (root)'[0m

  124) Warbler::Task with a Bundler Gemfile includes gems from the Gemfile
     [31mFailure/Error:[0m [31mdrbclient.run_task "warble"[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # (druby://127.0.0.1:7890) ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:29:in `config'[0m
[36m     # (druby://127.0.0.1:7890) ./spec/drb_helper.rb:44:in `run_task'[0m
[36m     # ./spec/warbler/task_spec.rb:199:in `block in (root)'[0m

  125) Debug targets should print out lists of files
     [31mFailure/Error:[0m [31msilence { Warbler::Task.new :war, Object.new }[0m
     [31mNoMethodError[0m:
       [31mundefined method `root=' for nil:NilClass[0m
[36m     # ./lib/warbler/traits/war.rb:53:in `default_webxml_config'[0m
[36m     # ./lib/warbler/traits/war.rb:27:in `before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `block in before_configure'[0m
[36m     # ./lib/warbler/traits.rb:29:in `before_configure'[0m
[36m     # ./lib/warbler/config.rb:213:in `initialize'[0m
[36m     # ./lib/warbler/task.rb:51:in `initialize'[0m
[36m     # ./spec/warbler/task_spec.rb:221:in `block in (root)'[0m
[36m     # ./spec/warbler/task_spec.rb:221:in `block in (root)'[0m

Finished in 4 minutes 14.1 seconds
[31m174 examples, 125 failures[0m

Failed examples:

[31mrspec ./spec/warbler/application_spec.rb:32[0m [36m# Warbler::Application should be able to list its tasks[0m
[31mrspec ./spec/warbler/application_spec.rb:42[0m [36m# Warbler::Application should display the version[0m
[31mrspec ./spec/warbler/application_spec.rb:47[0m [36m# Warbler::Application should copy a fresh config file into place[0m
[31mrspec ./spec/warbler/application_spec.rb:54[0m [36m# Warbler::Application should refuse to copy over an existing config file[0m
[31mrspec ./spec/warbler/application_spec.rb:70[0m [36m# Warbler::Application should refuse to pluginize if the lib/tasks/warbler directory exists[0m
[31mrspec ./spec/warbler/application_spec.rb:77[0m [36m# Warbler::Application should define a pluginize task for adding the tasks to a Rails application[0m
[31mrspec ./spec/warbler/bundler_spec.rb:39[0m [36m# Warbler::Jar with Bundler in a war project detects a Bundler trait[0m
[31mrspec ./spec/warbler/bundler_spec.rb:43[0m [36m# Warbler::Jar with Bundler in a war project detects a Gemfile and process only its gems[0m
[31mrspec ./spec/warbler/bundler_spec.rb:53[0m [36m# Warbler::Jar with Bundler in a war project copies Gemfiles into the war[0m
[31mrspec ./spec/warbler/bundler_spec.rb:60[0m [36m# Warbler::Jar with Bundler in a war project allows overriding of the gem path when using Bundler[0m
[31mrspec ./spec/warbler/bundler_spec.rb:95[0m [36m# Warbler::Jar with Bundler in a war project does not bundle dependencies in the test group by default[0m
[31mrspec ./spec/warbler/bundler_spec.rb:104[0m [36m# Warbler::Jar with Bundler in a war project adds BUNDLE_WITHOUT to init.rb[0m
[31mrspec ./spec/warbler/bundler_spec.rb:111[0m [36m# Warbler::Jar with Bundler in a war project adds BUNDLE_GEMFILE to init.rb[0m
[31mrspec ./spec/warbler/bundler_spec.rb:117[0m [36m# Warbler::Jar with Bundler in a war project uses ENV['BUNDLE_GEMFILE'] if set[0m
[31mrspec ./spec/warbler/bundler_spec.rb:71[0m [36m# Warbler::Jar with Bundler in a war project with :git entries in the Gemfile works with :git entries in Gemfiles[0m
[31mrspec ./spec/warbler/bundler_spec.rb:79[0m [36m# Warbler::Jar with Bundler in a war project with :git entries in the Gemfile bundles only the gemspec for :git entries that are excluded[0m
[31mrspec ./spec/warbler/bundler_spec.rb:87[0m [36m# Warbler::Jar with Bundler in a war project with :git entries in the Gemfile does not work with :path entries in Gemfiles[0m
[31mrspec ./spec/warbler/bundler_spec.rb:154[0m [36m# Warbler::Jar with Bundler when frozen includes the bundler gem[0m
[31mrspec ./spec/warbler/bundler_spec.rb:160[0m [36m# Warbler::Jar with Bundler when frozen does not include the bundler cache directory[0m
[31mrspec ./spec/warbler/bundler_spec.rb:165[0m [36m# Warbler::Jar with Bundler when frozen includes ENV['BUNDLE_FROZEN'] in init.rb[0m
[31mrspec ./spec/warbler/bundler_spec.rb:192[0m [36m# Warbler::Jar with Bundler when frozen with the runnable feature adds WarMain and JarMain to file[0m
[31mrspec ./spec/warbler/bundler_spec.rb:197[0m [36m# Warbler::Jar with Bundler when frozen with the runnable feature can run commands in the generated warfile[0m
[31mrspec ./spec/warbler/bundler_spec.rb:217[0m [36m# Warbler::Jar with Bundler when deployment includes the bundler gem[0m
[31mrspec ./spec/warbler/bundler_spec.rb:230[0m [36m# Warbler::Jar with Bundler in a rack app should have default load path[0m
[31mrspec ./spec/warbler/config_spec.rb:37[0m [36m# Warbler::Config in a web application should have suitable default values[0m
[31mrspec ./spec/warbler/config_spec.rb:49[0m [36m# Warbler::Config in a web application should allow configuration through an initializer block[0m
[31mrspec ./spec/warbler/config_spec.rb:56[0m [36m# Warbler::Config in a web application should allow gems to be added/changed with =, +=, -=, <<[0m
[31mrspec ./spec/warbler/config_spec.rb:65[0m [36m# Warbler::Config in a web application should exclude log files by default[0m
[31mrspec ./spec/warbler/config_spec.rb:73[0m [36m# Warbler::Config in a web application should include log files if exclude_logs is false[0m
[31mrspec ./spec/warbler/config_spec.rb:81[0m [36m# Warbler::Config in a web application should exclude Warbler itself when run as a plugin[0m
[31mrspec ./spec/warbler/config_spec.rb:88[0m [36m# Warbler::Config in a web application should generate context parameters from the webxml openstruct[0m
[31mrspec ./spec/warbler/config_spec.rb:109[0m [36m# Warbler::Config in a web application should determine the context listener from the webxml.booter parameter[0m
[31mrspec ./spec/warbler/config_spec.rb:120[0m [36m# Warbler::Config in a web application should not include ignored webxml keys in the context params hash[0m
[31mrspec ./spec/warbler/config_spec.rb:126[0m [36m# Warbler::Config in a web application should have a helpful string representation for an empty key[0m
[31mrspec ./spec/warbler/config_spec.rb:130[0m [36m# Warbler::Config in a web application should HTML-escape all webxml keys and values[0m
[31mrspec ./spec/warbler/jar_spec.rb:332[0m [36m# Warbler::Jar in a war project detects a War trait[0m
[31mrspec ./spec/warbler/jar_spec.rb:336[0m [36m# Warbler::Jar in a war project collects files in public[0m
[31mrspec ./spec/warbler/jar_spec.rb:341[0m [36m# Warbler::Jar in a war project collects gem files[0m
[31mrspec ./spec/warbler/jar_spec.rb:350[0m [36m# Warbler::Jar in a war project collects gem files with dependencies[0m
[31mrspec ./spec/warbler/jar_spec.rb:360[0m [36m# Warbler::Jar in a war project collects gem files without dependencies[0m
[31mrspec ./spec/warbler/jar_spec.rb:370[0m [36m# Warbler::Jar in a war project adds ENV['GEM_HOME'] to init.rb[0m
[31mrspec ./spec/warbler/jar_spec.rb:377[0m [36m# Warbler::Jar in a war project overrides ENV['GEM_HOME'] when override_gem_home is set[0m
[31mrspec ./spec/warbler/jar_spec.rb:384[0m [36m# Warbler::Jar in a war project does not include log files by default[0m
[31mrspec ./spec/warbler/jar_spec.rb:397[0m [36m# Warbler::Jar in a war project creates a web.xml file[0m
[31mrspec ./spec/warbler/jar_spec.rb:410[0m [36m# Warbler::Jar in a war project includes custom context parameters in web.xml[0m
[31mrspec ./spec/warbler/jar_spec.rb:423[0m [36m# Warbler::Jar in a war project allows one jndi resource to be included[0m
[31mrspec ./spec/warbler/jar_spec.rb:433[0m [36m# Warbler::Jar in a war project allows multiple jndi resources to be included[0m
[31mrspec ./spec/warbler/jar_spec.rb:446[0m [36m# Warbler::Jar in a war project does not include any ignored context parameters[0m
[31mrspec ./spec/warbler/jar_spec.rb:463[0m [36m# Warbler::Jar in a war project uses a config/web.xml if it exists[0m
[31mrspec ./spec/warbler/jar_spec.rb:470[0m [36m# Warbler::Jar in a war project uses a config/web.xml.erb if it exists[0m
[31mrspec ./spec/warbler/jar_spec.rb:478[0m [36m# Warbler::Jar in a war project collects java libraries[0m
[31mrspec ./spec/warbler/jar_spec.rb:483[0m [36m# Warbler::Jar in a war project collects application files[0m
[31mrspec ./spec/warbler/jar_spec.rb:490[0m [36m# Warbler::Jar in a war project accepts an autodeploy directory where the war should be created[0m
[31mrspec ./spec/warbler/jar_spec.rb:502[0m [36m# Warbler::Jar in a war project allows the jar extension to be customized[0m
[31mrspec ./spec/warbler/jar_spec.rb:513[0m [36m# Warbler::Jar in a war project can exclude files from the .war[0m
[31mrspec ./spec/warbler/jar_spec.rb:521[0m [36m# Warbler::Jar in a war project can exclude public files from the .war[0m
[31mrspec ./spec/warbler/jar_spec.rb:529[0m [36m# Warbler::Jar in a war project reads configuration from config/warble.rb[0m
[31mrspec ./spec/warbler/jar_spec.rb:553[0m [36m# Warbler::Jar in a war project allows specification of dependency by Gem::Dependency[0m
[31mrspec ./spec/warbler/jar_spec.rb:569[0m [36m# Warbler::Jar in a war project copies loose java classes to WEB-INF/classes[0m
[31mrspec ./spec/warbler/jar_spec.rb:577[0m [36m# Warbler::Jar in a war project does not try to autodetect frameworks when Warbler.framework_detection is false[0m
[31mrspec ./spec/warbler/jar_spec.rb:958[0m [36m# Warbler::Jar in a war project skips directories that don't exist in config.dirs and print a warning[0m
[31mrspec ./spec/warbler/jar_spec.rb:967[0m [36m# Warbler::Jar in a war project excludes Warbler's old tmp/war directory by default[0m
[31mrspec ./spec/warbler/jar_spec.rb:978[0m [36m# Warbler::Jar in a war project writes gems to location specified by gem_path[0m
[31mrspec ./spec/warbler/jar_spec.rb:993[0m [36m# Warbler::Jar in a war project allows adding additional WEB-INF files via config.webinf_files[0m
[31mrspec ./spec/warbler/jar_spec.rb:1004[0m [36m# Warbler::Jar in a war project allows expanding of additional WEB-INF files via config.webinf_files[0m
[31mrspec ./spec/warbler/jar_spec.rb:1017[0m [36m# Warbler::Jar in a war project excludes test files in gems according to config.gem_excludes[0m
[31mrspec ./spec/warbler/jar_spec.rb:1025[0m [36m# Warbler::Jar in a war project creates a META-INF/init.rb file with startup config[0m
[31mrspec ./spec/warbler/jar_spec.rb:1030[0m [36m# Warbler::Jar in a war project allows adjusting the init file location in the war[0m
[31mrspec ./spec/warbler/jar_spec.rb:1038[0m [36m# Warbler::Jar in a war project allows adding custom files' contents to init.rb[0m
[31mrspec ./spec/warbler/jar_spec.rb:1047[0m [36m# Warbler::Jar in a war project does not have escaped HTML in WARBLER_CONFIG[0m
[31mrspec ./spec/warbler/jar_spec.rb:605[0m [36m# Warbler::Jar in a war project with embedded jar files with move_jars_to_webinf_lib set to true moves jar files to WEB-INF/lib[0m
[31mrspec ./spec/warbler/jar_spec.rb:611[0m [36m# Warbler::Jar in a war project with embedded jar files with move_jars_to_webinf_lib set to true leaves jar files alone that are already in WEB-INF/lib[0m
[31mrspec ./spec/warbler/jar_spec.rb:619[0m [36m# Warbler::Jar in a war project with embedded jar files with move_jars_to_webinf_lib not set moves jar files to WEB-INF/lib[0m
[31mrspec ./spec/warbler/jar_spec.rb:640[0m [36m# Warbler::Jar in a war project with embedded jar files with move_jars_to_webinf_lib set to regexp moves jar files that match to WEB-INF/lib[0m
[31mrspec ./spec/warbler/jar_spec.rb:647[0m [36m# Warbler::Jar in a war project with embedded jar files with move_jars_to_webinf_lib set to regexp removes default jars not matched by filter from WEB-INF/lib[0m
[31mrspec ./spec/warbler/jar_spec.rb:660[0m [36m# Warbler::Jar in a war project with the executable feature adds WarMain (and JarMain) class[0m
[31mrspec ./spec/warbler/jar_spec.rb:673[0m [36m# Warbler::Jar in a war project with the runnable feature adds WarMain (and JarMain) class[0m
[31mrspec ./spec/warbler/jar_spec.rb:701[0m [36m# Warbler::Jar in a war project in a Rails application detects a Rails trait[0m
[31mrspec ./spec/warbler/jar_spec.rb:705[0m [36m# Warbler::Jar in a war project in a Rails application auto-detects a Rails application[0m
[31mrspec ./spec/warbler/jar_spec.rb:710[0m [36m# Warbler::Jar in a war project in a Rails application adds the rails.rb to the script files[0m
[31mrspec ./spec/warbler/jar_spec.rb:714[0m [36m# Warbler::Jar in a war project in a Rails application provides Rails gems by default, unless vendor/rails is present[0m
[31mrspec ./spec/warbler/jar_spec.rb:727[0m [36m# Warbler::Jar in a war project in a Rails application automatically adds Rails.configuration.gems to the list of gems[0m
[31mrspec ./spec/warbler/jar_spec.rb:851[0m [36m# Warbler::Jar in a war project in a Rails application adds RAILS_ENV to init.rb[0m
[31mrspec ./spec/warbler/jar_spec.rb:771[0m [36m# Warbler::Jar in a war project in a Rails application with asset_pipeline automatically adds asset pipeline manifest file to the included files[0m
[31mrspec ./spec/warbler/jar_spec.rb:742[0m [36m# Warbler::Jar in a war project in a Rails application with threadsafe! enabled in production.rb it should behave like threaded environment sets the jruby min and max runtimes to 1[0m
[31mrspec ./spec/warbler/jar_spec.rb:749[0m [36m# Warbler::Jar in a war project in a Rails application with threadsafe! enabled in production.rb it should behave like threaded environment doesn't override already configured runtime numbers[0m
[31mrspec ./spec/warbler/jar_spec.rb:742[0m [36m# Warbler::Jar in a war project in a Rails application with threadsafe! enabled in environment.rb it should behave like threaded environment sets the jruby min and max runtimes to 1[0m
[31mrspec ./spec/warbler/jar_spec.rb:749[0m [36m# Warbler::Jar in a war project in a Rails application with threadsafe! enabled in environment.rb it should behave like threaded environment doesn't override already configured runtime numbers[0m
[31mrspec ./spec/warbler/jar_spec.rb:742[0m [36m# Warbler::Jar in a war project in a Rails application with rails version 4 When rails version is specified in Gemfile it should behave like threaded environment sets the jruby min and max runtimes to 1[0m
[31mrspec ./spec/warbler/jar_spec.rb:749[0m [36m# Warbler::Jar in a war project in a Rails application with rails version 4 When rails version is specified in Gemfile it should behave like threaded environment doesn't override already configured runtime numbers[0m
[31mrspec ./spec/warbler/jar_spec.rb:807[0m [36m# Warbler::Jar in a war project in a Rails application with rails version 4 When rails version is specified in Gemfile it should behave like asset pipeline automatically adds asset pipeline manifest file to the included files[0m
[31mrspec ./spec/warbler/jar_spec.rb:742[0m [36m# Warbler::Jar in a war project in a Rails application with rails version 4 when rails version is not specified in Gemfile it should behave like threaded environment sets the jruby min and max runtimes to 1[0m
[31mrspec ./spec/warbler/jar_spec.rb:749[0m [36m# Warbler::Jar in a war project in a Rails application with rails version 4 when rails version is not specified in Gemfile it should behave like threaded environment doesn't override already configured runtime numbers[0m
[31mrspec ./spec/warbler/jar_spec.rb:807[0m [36m# Warbler::Jar in a war project in a Rails application with rails version 4 when rails version is not specified in Gemfile it should behave like asset pipeline automatically adds asset pipeline manifest file to the included files[0m
[31mrspec ./spec/warbler/jar_spec.rb:895[0m [36m# Warbler::Jar in a war project in a Merb application detects a Merb trait[0m
[31mrspec ./spec/warbler/jar_spec.rb:899[0m [36m# Warbler::Jar in a war project in a Merb application auto-detects a Merb application[0m
[31mrspec ./spec/warbler/jar_spec.rb:904[0m [36m# Warbler::Jar in a war project in a Merb application automatically adds Merb::BootLoader::Dependencies.dependencies to the list of gems[0m
[31mrspec ./spec/warbler/jar_spec.rb:911[0m [36m# Warbler::Jar in a war project in a Merb application skips Merb development dependencies[0m
[31mrspec ./spec/warbler/jar_spec.rb:919[0m [36m# Warbler::Jar in a war project in a Merb application warns about using Merb < 1.0[0m
[31mrspec ./spec/warbler/jar_spec.rb:940[0m [36m# Warbler::Jar in a war project in a Rack application detects a Rack trait[0m
[31mrspec ./spec/warbler/jar_spec.rb:944[0m [36m# Warbler::Jar in a war project in a Rack application auto-detects a Rack application with a config.ru file[0m
[31mrspec ./spec/warbler/jar_spec.rb:949[0m [36m# Warbler::Jar in a war project in a Rack application adds RACK_ENV to init.rb[0m
[31mrspec ./spec/warbler/jbundler_spec.rb:35[0m [36m# Warbler::Jar with JBundler in a war project detects a JBundler trait[0m
[31mrspec ./spec/warbler/jbundler_spec.rb:39[0m [36m# Warbler::Jar with JBundler in a war project detects a Jarfile and process only its jars[0m
[31mrspec ./spec/warbler/jbundler_spec.rb:47[0m [36m# Warbler::Jar with JBundler in a war project copies jars from jbundler classpath into the war[0m
[31mrspec ./spec/warbler/jbundler_spec.rb:54[0m [36m# Warbler::Jar with JBundler in a war project adds JBUNDLE_SKIP to init.rb[0m
[31mrspec ./spec/warbler/jbundler_spec.rb:60[0m [36m# Warbler::Jar with JBundler in a war project uses ENV['JBUNDLE_JARFILE'] if set[0m
[31mrspec ./spec/warbler/jbundler_spec.rb:70[0m [36m# Warbler::Jar with JBundler when locked down does not include the jbundler gem (as it is in the development group)[0m
[31mrspec ./spec/warbler/jbundler_spec.rb:77[0m [36m# Warbler::Jar with JBundler when locked down does not include the jbundler runtime config[0m
[31mrspec ./spec/warbler/task_spec.rb:47[0m [36m# Warbler::Task should define a clean task for removing the war file[0m
[31mrspec ./spec/warbler/task_spec.rb:55[0m [36m# Warbler::Task should define a make_gemjar task for storing gems in a jar file[0m
[31mrspec ./spec/warbler/task_spec.rb:62[0m [36m# Warbler::Task should define a war task for bundling up everything[0m
[31mrspec ./spec/warbler/task_spec.rb:70[0m [36m# Warbler::Task should define a jar task for creating the .war[0m
[31mrspec ./spec/warbler/task_spec.rb:77[0m [36m# Warbler::Task should invoke feature tasks configured in config.features[0m
[31mrspec ./spec/warbler/task_spec.rb:83[0m [36m# Warbler::Task should warn and skip unknown features configured in config.features[0m
[31mrspec ./spec/warbler/task_spec.rb:88[0m [36m# Warbler::Task should define an executable task for embedding a server in the war file[0m
[31mrspec ./spec/warbler/task_spec.rb:93[0m [36m# Warbler::Task should be able to define all tasks successfully[0m
[31mrspec ./spec/warbler/task_spec.rb:97[0m [36m# Warbler::Task should compile any ruby files specified[0m
[31mrspec ./spec/warbler/task_spec.rb:112[0m [36m# Warbler::Task should compile ruby 1.9 mode[0m
[31mrspec ./spec/warbler/task_spec.rb:128[0m [36m# Warbler::Task should allow bytecode version in config[0m
[31mrspec ./spec/warbler/task_spec.rb:147[0m [36m# Warbler::Task should delete .class files after finishing the jar[0m
[31mrspec ./spec/warbler/task_spec.rb:157[0m [36m# Warbler::Task where symlinks are available should process symlinks by storing a file in the archive that has the same contents as the source[0m
[31mrspec ./spec/warbler/task_spec.rb:168[0m [36m# Warbler::Task where symlinks are available should process directory symlinks by copying the whole subdirectory[0m
[31mrspec ./spec/warbler/task_spec.rb:195[0m [36m# Warbler::Task with a Bundler Gemfile includes gems from the Gemfile[0m
[31mrspec ./spec/warbler/task_spec.rb:224[0m [36m# Debug targets should print out lists of files[0m
Exception in thread "Ruby-0-Thread-22: /home/travis/.rvm/rubies/jruby-head/lib/ruby/stdlib/drb/drb.rb:1539" java.nio.channels.ClosedSelectorException
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:84)
	at sun.nio.ch.SelectorImpl.selectNow(SelectorImpl.java:106)
	at org.jruby.util.io.SelectExecutor.selectEnd(SelectExecutor.java:63)
	at org.jruby.util.io.SelectExecutor.go(SelectExecutor.java:44)
	at org.jruby.RubyIO.select(RubyIO.java:3361)
	at org.jruby.RubyIO$INVOKER$s$0$3$select.call(RubyIO$INVOKER$s$0$3$select.gen)
	at org.jruby.internal.runtime.methods.JavaMethod$JavaMethodN.call(JavaMethod.java:720)
	at org.jruby.internal.runtime.methods.DynamicMethod.call(DynamicMethod.java:197)
	at org.jruby.runtime.callsite.CachingCallSite.cacheAndCall(CachingCallSite.java:313)
	at org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:163)
	at org.jruby.ir.interpreter.InterpreterEngine.processCall(InterpreterEngine.java:316)
	at org.jruby.ir.interpreter.StartupInterpreterEngine.interpret(StartupInterpreterEngine.java:77)
	at org.jruby.ir.interpreter.InterpreterEngine.interpret(InterpreterEngine.java:80)
	at org.jruby.internal.runtime.methods.MixedModeIRMethod.INTERPRET_METHOD(MixedModeIRMethod.java:144)
	at org.jruby.internal.runtime.methods.MixedModeIRMethod.call(MixedModeIRMethod.java:130)
	at org.jruby.internal.runtime.methods.DynamicMethod.call(DynamicMethod.java:189)
	at org.jruby.runtime.callsite.CachingCallSite.cacheAndCall(CachingCallSite.java:293)
	at org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:131)
	at org.jruby.ir.interpreter.InterpreterEngine.processCall(InterpreterEngine.java:332)
	at org.jruby.ir.interpreter.StartupInterpreterEngine.interpret(StartupInterpreterEngine.java:77)
	at org.jruby.ir.interpreter.InterpreterEngine.interpret(InterpreterEngine.java:80)
	at org.jruby.internal.runtime.methods.MixedModeIRMethod.INTERPRET_METHOD(MixedModeIRMethod.java:144)
	at org.jruby.internal.runtime.methods.MixedModeIRMethod.call(MixedModeIRMethod.java:130)
	at org.jruby.internal.runtime.methods.DynamicMethod.call(DynamicMethod.java:189)
	at org.jruby.runtime.callsite.CachingCallSite.cacheAndCall(CachingCallSite.java:293)
	at org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:131)
	at org.jruby.ir.interpreter.InterpreterEngine.processCall(InterpreterEngine.java:332)
	at org.jruby.ir.interpreter.StartupInterpreterEngine.interpret(StartupInterpreterEngine.java:77)
	at org.jruby.ir.interpreter.InterpreterEngine.interpret(InterpreterEngine.java:80)
	at org.jruby.internal.runtime.methods.MixedModeIRMethod.INTERPRET_METHOD(MixedModeIRMethod.java:144)
	at org.jruby.internal.runtime.methods.MixedModeIRMethod.call(MixedModeIRMethod.java:130)
	at org.jruby.internal.runtime.methods.DynamicMethod.call(DynamicMethod.java:189)
	at org.jruby.runtime.callsite.CachingCallSite.cacheAndCall(CachingCallSite.java:293)
	at org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:131)
	at org.jruby.ir.interpreter.InterpreterEngine.processCall(InterpreterEngine.java:332)
	at org.jruby.ir.interpreter.StartupInterpreterEngine.interpret(StartupInterpreterEngine.java:77)
	at org.jruby.ir.interpreter.Interpreter.INTERPRET_BLOCK(Interpreter.java:132)
	at org.jruby.runtime.MixedModeIRBlockBody.commonYieldPath(MixedModeIRBlockBody.java:148)
	at org.jruby.runtime.IRBlockBody.call(IRBlockBody.java:66)
	at org.jruby.runtime.Block.call(Block.java:126)
	at org.jruby.RubyProc.call(RubyProc.java:342)
	at org.jruby.RubyProc.call(RubyProc.java:248)
	at org.jruby.internal.runtime.RubyRunnable.run(RubyRunnable.java:99)
	at java.lang.Thread.run(Thread.java:745)
/home/travis/.rvm/rubies/jruby-head/bin/jruby -S rspec ./spec/warbler/application_spec.rb ./spec/warbler/bundler_spec.rb ./spec/warbler/config_spec.rb ./spec/warbler/gems_spec.rb ./spec/warbler/jar_spec.rb ./spec/warbler/jbundler_spec.rb ./spec/warbler/task_spec.rb ./spec/warbler/traits_spec.rb ./spec/warbler/war_spec.rb ./spec/warbler/web_server_spec.rb --color --format documentation failed

travis_time:end:1a388eca:start=1462015646567953732,finish=1462015927886788367,duration=281318834635[0K
[31;1mThe command "bundle exec rake spec" exited with 1.[0m

Done. Your build exited with 1.
